<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>smol.moca.processor package &#8212; smol 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/_static/default.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          smol</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="examples.html">Examples</a></li>
                <li><a href="api.html">API</a></li>
                <li><a href="https://github.com/CederGroupHub/smol">GitHub</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">smol.moca.processor package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-smol.moca.processor.base">smol.moca.processor.base module</a></li>
<li><a class="reference internal" href="#module-smol.moca.processor.composite">smol.moca.processor.composite module</a></li>
<li><a class="reference internal" href="#module-smol.moca.processor.ewald">smol.moca.processor.ewald module</a></li>
<li><a class="reference internal" href="#module-smol.moca.processor.expansion">smol.moca.processor.expansion module</a></li>
<li><a class="reference internal" href="#module-smol.moca.processor">Module contents</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="smol-moca-processor-package">
<h1>smol.moca.processor package<a class="headerlink" href="#smol-moca-processor-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-smol.moca.processor.base">
<span id="smol-moca-processor-base-module"></span><h2>smol.moca.processor.base module<a class="headerlink" href="#module-smol.moca.processor.base" title="Permalink to this headline">¶</a></h2>
<p>Implementation of base processor classes for a fixed size super cell.</p>
<p>Processor classes are used to represent a configuration domain for a fixed
sized supercell and should implement a “fast” way to compute the property
they represent or changes in said property from site flips. Things necessary
to run Monte Carlo sampling.</p>
<p>Processor classes should inherit from the BaseProcessor class. Processors
can be combined into composite processor for mixed models.</p>
<dl class="py class">
<dt id="smol.moca.processor.base.Processor">
<em class="property">class </em><code class="sig-name descname">Processor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_subspace</span></em>, <em class="sig-param"><span class="n">supercell_matrix</span></em>, <em class="sig-param"><span class="n">coefficients</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.base.Processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>Abstract base class for processors.</p>
<p>A processor is used to provide a quick way to calculated energy differences
(probability ratio’s) between two configurational states for a fixed system
size/supercell.</p>
<dl class="py attribute">
<dt id="smol.moca.processor.base.Processor.unique_site_spaces">
<code class="sig-name descname">unique_site_spaces</code><a class="headerlink" href="#smol.moca.processor.base.Processor.unique_site_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Tuple of all the distinct site spaces.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.moca.processor.base.Processor.allowed_species">
<code class="sig-name descname">allowed_species</code><a class="headerlink" href="#smol.moca.processor.base.Processor.allowed_species" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of tuples of the allowed species at each site.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.moca.processor.base.Processor.size">
<code class="sig-name descname">size</code><a class="headerlink" href="#smol.moca.processor.base.Processor.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of prims in the supercell structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<p>Initialize a BaseProcessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_subspace</strong> (<a class="reference internal" href="smol.cofe.html#smol.cofe.ClusterSubspace" title="smol.cofe.ClusterSubspace"><em>ClusterSubspace</em></a>) – A cluster subspace</p></li>
<li><p><strong>supercell_matrix</strong> (<em>ndarray</em>) – An array representing the supercell matrix with respect to the
ClusterExpansion prim structure.</p></li>
<li><p><strong>coefficients</strong> – single or array of fit coefficients.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.moca.processor.base.Processor.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a><a class="headerlink" href="#smol.moca.processor.base.Processor.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.cluster_subspace">
<em class="property">property </em><code class="sig-name descname">cluster_subspace</code><a class="headerlink" href="#smol.moca.processor.base.Processor.cluster_subspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the underlying cluster subspace.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.compute_average_drift">
<code class="sig-name descname">compute_average_drift</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterations</span><span class="o">=</span><span class="default_value">1000</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.base.Processor.compute_average_drift" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute average forward and reverse drift for the given property.</p>
<p>This is a sanity check function. The drift value should be very, very,
very small, the smaller the better…think machine precision values.</p>
<p>The average drift is the difference between the quick routine for used
for MC to get a property difference from a single flip and the
change in that property from explicitly calculating it fully for the
initial state and the flipped state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – optional
number of iterations/flips to compute.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(float, float) forward and reverse average property drift</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.compute_feature_vector">
<em class="property">abstract </em><code class="sig-name descname">compute_feature_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.base.Processor.compute_feature_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the feature vector for a given occupancy array.</p>
<p>Each entry in the correlation vector corresponds to a particular
symmetrically distinct bit ordering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupation array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.compute_feature_vector_change">
<em class="property">abstract </em><code class="sig-name descname">compute_feature_vector_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.base.Processor.compute_feature_vector_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the change in the feature vector from a list of flips.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p></li>
<li><p><strong>flips</strong> (<em>list of tuple</em>) – list of tuples with two elements. Each tuple represents a
single flip where the first element is the index of the site
in the occupancy array and the second element is the index
for the new species to place at that site.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>change in correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.compute_property">
<code class="sig-name descname">compute_property</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.base.Processor.compute_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the value of the property for the given occupancy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>predicted property</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.compute_property_change">
<code class="sig-name descname">compute_property_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.base.Processor.compute_property_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute change in property from a set of flips.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p></li>
<li><p><strong>flips</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – list of tuples for (index of site, specie code to set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>property difference between inital and final states</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.decode_occupancy">
<code class="sig-name descname">decode_occupancy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">encoded_occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.base.Processor.decode_occupancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode an encoded occupancy string of int to species str.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.encode_occupancy">
<code class="sig-name descname">encode_occupancy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.base.Processor.encode_occupancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode occupancy string of species str to ints.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.base.Processor.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a processor from serialized MSONable dict.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.num_sites">
<em class="property">property </em><code class="sig-name descname">num_sites</code><a class="headerlink" href="#smol.moca.processor.base.Processor.num_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Get total number of sites in supercell.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.occupancy_from_structure">
<code class="sig-name descname">occupancy_from_structure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.base.Processor.occupancy_from_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the occupancy array for a given structure.</p>
<p>The structure must strictly be a supercell of the prim according to the
processor’s supercell matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>structure</strong> (<em>Structure</em>) – A pymatgen structure (related to the cluster-expansion prim
by the supercell matrix passed to the processor)</p>
</dd>
</dl>
<dl class="simple">
<dt>Returns: encoded occupancy string</dt><dd><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.structure">
<em class="property">property </em><code class="sig-name descname">structure</code><a class="headerlink" href="#smol.moca.processor.base.Processor.structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the underlying supercell disordered structure.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.structure_from_occupancy">
<code class="sig-name descname">structure_from_occupancy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.base.Processor.structure_from_occupancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Structure from an occupancy string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Structure</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.base.Processor.supercell_matrix">
<em class="property">property </em><code class="sig-name descname">supercell_matrix</code><a class="headerlink" href="#smol.moca.processor.base.Processor.supercell_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the give supercell matrix.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-smol.moca.processor.composite">
<span id="smol-moca-processor-composite-module"></span><h2>smol.moca.processor.composite module<a class="headerlink" href="#module-smol.moca.processor.composite" title="Permalink to this headline">¶</a></h2>
<p>Implementation of Composite processor class for a fixed size super cell.</p>
<p>If you have created a ClusterExpansion with additional terms, and don’t want
the headache of manually and correctly spinning up the corresponding
CompositeProcessor, simply consider using the convenience class constructor
method in the ensemble classes: Ensemble.from_clusterexpansion, that will take
care of all these hickups for you.</p>
<dl class="py class">
<dt id="smol.moca.processor.composite.CompositeProcessor">
<em class="property">class </em><code class="sig-name descname">CompositeProcessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_subspace</span></em>, <em class="sig-param"><span class="n">supercell_matrix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.composite.CompositeProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.moca.processor.base.Processor" title="smol.moca.processor.base.Processor"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.moca.processor.base.Processor</span></code></a></p>
<p>CompositeProcessor class used for mixed models.</p>
<p>A Composite processor is merely a container for many different processors
that acts as an interface such that it can be used in the same way as an
individual processor. This can be used to mix models in any way that your
heart desires.</p>
<p>The most common use case of them all is a CompositeProcessor of a
CEProcessor and an EwaldProcessor for use in ionic materials.</p>
<p>You can add anyone of the other processor class implemented to build a
composite processor.</p>
<p>It is recommended to use the <code class="code docutils literal notranslate"><span class="pre">from_cluster_expansion</span></code> to create an
ensemble and the underlying processor automatically rather than directly
creating a processor. This will take care of creating the correct
<a class="reference internal" href="#smol.moca.processor.composite.CompositeProcessor" title="smol.moca.processor.composite.CompositeProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeProcessor</span></code></a> or <code class="xref py py-class docutils literal notranslate"><span class="pre">CEProcessor</span></code> for you.</p>
<p>Initialize a CompositeProcessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_subspace</strong> (<a class="reference internal" href="smol.cofe.html#smol.cofe.ClusterSubspace" title="smol.cofe.ClusterSubspace"><em>ClusterSubspace</em></a>) – A cluster subspace</p></li>
<li><p><strong>supercell_matrix</strong> (<em>ndarray</em>) – An array representing the supercell matrix with respect to the
Cluster Expansion prim structure.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.moca.processor.composite.CompositeProcessor.add_processor">
<code class="sig-name descname">add_processor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">processor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.composite.CompositeProcessor.add_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a processor to composite.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>processor</strong> (<a class="reference internal" href="#smol.moca.processor.base.Processor" title="smol.moca.processor.base.Processor"><em>Processor</em></a>) – Processor to add. Must have the same cluster subspace and
supercell matrix.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.composite.CompositeProcessor.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a><a class="headerlink" href="#smol.moca.processor.composite.CompositeProcessor.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.composite.CompositeProcessor.compute_feature_vector">
<code class="sig-name descname">compute_feature_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.composite.CompositeProcessor.compute_feature_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the feature vector for a given occupancy array.</p>
<p>Each entry in the correlation vector corresponds to a particular
symmetrically distinct bit ordering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupation array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.composite.CompositeProcessor.compute_feature_vector_change">
<code class="sig-name descname">compute_feature_vector_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.composite.CompositeProcessor.compute_feature_vector_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the change in the feature vector from a list of flips.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p></li>
<li><p><strong>flips</strong> (<em>list of tuple</em>) – list of tuples with two elements. Each tuple represents a
single flip where the first element is the index of the site
in the occupancy array and the second element is the index
for the new species to place at that site.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>change in feature vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.composite.CompositeProcessor.compute_property">
<code class="sig-name descname">compute_property</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.composite.CompositeProcessor.compute_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the value of the property for the given occupancy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>predicted property</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.composite.CompositeProcessor.compute_property_change">
<code class="sig-name descname">compute_property_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.composite.CompositeProcessor.compute_property_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute change in property from a set of flips.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p></li>
<li><p><strong>flips</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – list of tuples for (index of site, specie code to set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>property difference between inital and final states</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.composite.CompositeProcessor.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.composite.CompositeProcessor.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Composite from serialized MSONable dict.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.composite.CompositeProcessor.processors">
<em class="property">property </em><code class="sig-name descname">processors</code><a class="headerlink" href="#smol.moca.processor.composite.CompositeProcessor.processors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of processor in composite.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-smol.moca.processor.ewald">
<span id="smol-moca-processor-ewald-module"></span><h2>smol.moca.processor.ewald module<a class="headerlink" href="#module-smol.moca.processor.ewald" title="Permalink to this headline">¶</a></h2>
<p>Implementation of Ewald processor class for a fixed size super cell.</p>
<p>An Ewald processor is optimized to compute electrostatic interaction energy
and changes in electrostatic energy from a list of local flips for use in
Monte Carlo sampling.</p>
<p>If you are using a Hamiltonian with a Cluster expansion and an Ewald summation
electrostatic term, you should use the CompositeProcessor with a CEProcessor
and an EwaldProcessor class.</p>
<dl class="py class">
<dt id="smol.moca.processor.ewald.EwaldProcessor">
<em class="property">class </em><code class="sig-name descname">EwaldProcessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_subspace</span></em>, <em class="sig-param"><span class="n">supercell_matrix</span></em>, <em class="sig-param"><span class="n">ewald_term</span></em>, <em class="sig-param"><span class="n">coefficient</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">ewald_summation</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.ewald.EwaldProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.moca.processor.base.Processor" title="smol.moca.processor.base.Processor"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.moca.processor.base.Processor</span></code></a></p>
<p>Processor for CE’s including an EwaldTerm.</p>
<p>A Processor class that handles changes for the electrostatic interaction
energy using an Ewald Summation term.</p>
<p>Initialize an EwaldCEProcessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_subspace</strong> (<a class="reference internal" href="smol.cofe.html#smol.cofe.ClusterSubspace" title="smol.cofe.ClusterSubspace"><em>ClusterSubspace</em></a>) – A cluster subspace.</p></li>
<li><p><strong>supercell_matrix</strong> (<em>ndarray</em>) – An array representing the supercell matrix with respect to the
Cluster Expansion prim structure.</p></li>
<li><p><strong>ewald_term</strong> (<a class="reference internal" href="smol.cofe.extern.html#smol.cofe.extern.ewald.EwaldTerm" title="smol.cofe.extern.ewald.EwaldTerm"><em>EwaldTerm</em></a>) – An instance of EwaldTerm to compute electrostatic energies.</p></li>
<li><p><strong>coefficient</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Fitting coeficient to scale Ewald energy by.</p></li>
<li><p><strong>ewald_summation</strong> (<em>EwaldSummation</em>) – optional
pymatgen EwaldSummation instance, make sure this uses the exact
same parameters as those used in the EwaldTerm in the cluster
Expansion (i.e. same eta, real and recip cuts).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.moca.processor.ewald.EwaldProcessor.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a><a class="headerlink" href="#smol.moca.processor.ewald.EwaldProcessor.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.ewald.EwaldProcessor.compute_feature_vector">
<code class="sig-name descname">compute_feature_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.ewald.EwaldProcessor.compute_feature_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the feature vector for a given occupancy array.</p>
<p>Each entry in the correlation vector corresponds to a particular
symmetrically distinct bit ordering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupation array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.ewald.EwaldProcessor.compute_feature_vector_change">
<code class="sig-name descname">compute_feature_vector_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.ewald.EwaldProcessor.compute_feature_vector_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the change in the feature vector from a list of flips.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy string</p></li>
<li><p><strong>flips</strong> (<em>list of tuple</em>) – list of tuples with two elements. Each tuple represents a
single flip where the first element is the index of the site
in the occupancy string and the second element is the index
for the new species to place at that site.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>change in correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.ewald.EwaldProcessor.compute_property">
<code class="sig-name descname">compute_property</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.ewald.EwaldProcessor.compute_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the Ewald electrostatic energy for a given occupancy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Ewald electrostatic energy</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.ewald.EwaldProcessor.compute_property_change">
<code class="sig-name descname">compute_property_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.ewald.EwaldProcessor.compute_property_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute change in electrostatic energy from a set of flips.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p></li>
<li><p><strong>flips</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – list of tuples for (index of site, specie code to set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>electrostatic energy change</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.ewald.EwaldProcessor.ewald_matrix">
<em class="property">property </em><code class="sig-name descname">ewald_matrix</code><a class="headerlink" href="#smol.moca.processor.ewald.EwaldProcessor.ewald_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the electrostatic interaction matrix.</p>
<p>The matrix used is the one set in the EwaldTerm of the given
ClusterExpansion.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.ewald.EwaldProcessor.ewald_summation">
<em class="property">property </em><code class="sig-name descname">ewald_summation</code><a class="headerlink" href="#smol.moca.processor.ewald.EwaldProcessor.ewald_summation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the pymatgen EwaldSummation object.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.ewald.EwaldProcessor.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.ewald.EwaldProcessor.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a CEProcessor from serialized MSONable dict.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-smol.moca.processor.expansion">
<span id="smol-moca-processor-expansion-module"></span><h2>smol.moca.processor.expansion module<a class="headerlink" href="#module-smol.moca.processor.expansion" title="Permalink to this headline">¶</a></h2>
<p>Implementation of CE processor class for a fixed size super cell.</p>
<p>If you are using a Hamiltonian with an Ewald summation electrostatic term, you
should use the CompositeProcessor with a CEProcessor and an EwaldProcessor
class to handle changes in the electrostatic interaction energy.</p>
<dl class="py class">
<dt id="smol.moca.processor.expansion.CEProcessor">
<em class="property">class </em><code class="sig-name descname">CEProcessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_subspace</span></em>, <em class="sig-param"><span class="n">supercell_matrix</span></em>, <em class="sig-param"><span class="n">coefficients</span></em>, <em class="sig-param"><span class="n">optimize_indicator</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.expansion.CEProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.moca.processor.base.Processor" title="smol.moca.processor.base.Processor"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.moca.processor.base.Processor</span></code></a></p>
<p>CEProcessor class to use a ClusterExpansion in MC simulations.</p>
<p>A CE processor is optimized to compute correlation vectors and local
changes in correlation vectors. This class allows the use a cluster
expansion Hamiltonian to run Monte Carlo based simulations.</p>
<p>A processor allows an ensemble class to generate a Markov chain
for sampling thermodynamic properties from a cluster expansion
Hamiltonian.</p>
<dl class="py attribute">
<dt id="smol.moca.processor.expansion.CEProcessor.optimize_indicator">
<code class="sig-name descname">optimize_indicator</code><a class="headerlink" href="#smol.moca.processor.expansion.CEProcessor.optimize_indicator" title="Permalink to this definition">¶</a></dt>
<dd><p>If true the local correlation update function specialized for
indicator bases is used. This should only be used when the
expansion was fit with an indicator basis and no additional
normalization.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.moca.processor.expansion.CEProcessor.coefs">
<code class="sig-name descname">coefs</code><a class="headerlink" href="#smol.moca.processor.expansion.CEProcessor.coefs" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitted coefficients from the cluster expansion.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.moca.processor.expansion.CEProcessor.n_orbit_functions">
<code class="sig-name descname">n_orbit_functions</code><a class="headerlink" href="#smol.moca.processor.expansion.CEProcessor.n_orbit_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of orbit basis functions (correlation functions).
This includes all possible labellings/orderings for all orbits.
Same as <code class="code docutils literal notranslate"><span class="pre">ClusterSubspace.n_bit_orderings</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<p>Initialize a CEProcessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_subspace</strong> (<a class="reference internal" href="smol.cofe.html#smol.cofe.ClusterSubspace" title="smol.cofe.ClusterSubspace"><em>ClusterSubspace</em></a>) – A cluster subspace</p></li>
<li><p><strong>supercell_matrix</strong> (<em>ndarray</em>) – An array representing the supercell matrix with respect to the
Cluster Expansion prim structure.</p></li>
<li><p><strong>coefficients</strong> (<em>ndarray</em>) – Fit coefficients for the represented cluster expansion.</p></li>
<li><p><strong>optimize_indicator</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – When using an indicator basis, sets the function to compute
correlation differences to the indicator optimized function.
This can make MC steps faster.
Make sure your cluster expansion was indeed fit with an
indicator basis set, otherwise your MC results are no good.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.moca.processor.expansion.CEProcessor.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a><a class="headerlink" href="#smol.moca.processor.expansion.CEProcessor.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.expansion.CEProcessor.compute_feature_vector">
<code class="sig-name descname">compute_feature_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.expansion.CEProcessor.compute_feature_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the correlation vector for a given occupancy string.</p>
<p>The correlation vector in this case is normalized per supercell. In
other works it is extensive corresponding to the size of the supercell.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupation array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.expansion.CEProcessor.compute_feature_vector_change">
<code class="sig-name descname">compute_feature_vector_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.expansion.CEProcessor.compute_feature_vector_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the change in the correlation vector from a list of flips.</p>
<p>The correlation vector in this case is normalized per supercell. In
other works it is extensive corresponding to the size of the supercell.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy string</p></li>
<li><p><strong>flips</strong> (<em>list of tuple</em>) – list of tuples with two elements. Each tuple represents a
single flip where the first element is the index of the site
in the occupancy string and the second element is the index
for the new species to place at that site.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>change in correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.expansion.CEProcessor.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.expansion.CEProcessor.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a CEProcessor from serialized MSONable dict.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-smol.moca.processor">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-smol.moca.processor" title="Permalink to this headline">¶</a></h2>
<p>Implementation of base processor classes for a fixed size super cell.</p>
<p>Processor classes are used to represent a configuration domain for a fixed
sized supercell and should implement a “fast” way to compute the property
they represent or changes in said property from site flips. Things necessary
to run Monte Carlo sampling.</p>
<dl class="py class">
<dt id="smol.moca.processor.CEProcessor">
<em class="property">class </em><code class="sig-name descname">CEProcessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_subspace</span></em>, <em class="sig-param"><span class="n">supercell_matrix</span></em>, <em class="sig-param"><span class="n">coefficients</span></em>, <em class="sig-param"><span class="n">optimize_indicator</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.CEProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.moca.processor.base.Processor" title="smol.moca.processor.base.Processor"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.moca.processor.base.Processor</span></code></a></p>
<p>CEProcessor class to use a ClusterExpansion in MC simulations.</p>
<p>A CE processor is optimized to compute correlation vectors and local
changes in correlation vectors. This class allows the use a cluster
expansion Hamiltonian to run Monte Carlo based simulations.</p>
<p>A processor allows an ensemble class to generate a Markov chain
for sampling thermodynamic properties from a cluster expansion
Hamiltonian.</p>
<dl class="py attribute">
<dt id="smol.moca.processor.CEProcessor.optimize_indicator">
<code class="sig-name descname">optimize_indicator</code><a class="headerlink" href="#smol.moca.processor.CEProcessor.optimize_indicator" title="Permalink to this definition">¶</a></dt>
<dd><p>If true the local correlation update function specialized for
indicator bases is used. This should only be used when the
expansion was fit with an indicator basis and no additional
normalization.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.moca.processor.CEProcessor.coefs">
<code class="sig-name descname">coefs</code><a class="headerlink" href="#smol.moca.processor.CEProcessor.coefs" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitted coefficients from the cluster expansion.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.moca.processor.CEProcessor.n_orbit_functions">
<code class="sig-name descname">n_orbit_functions</code><a class="headerlink" href="#smol.moca.processor.CEProcessor.n_orbit_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of orbit basis functions (correlation functions).
This includes all possible labellings/orderings for all orbits.
Same as <code class="code docutils literal notranslate"><span class="pre">ClusterSubspace.n_bit_orderings</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<p>Initialize a CEProcessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_subspace</strong> (<a class="reference internal" href="smol.cofe.html#smol.cofe.ClusterSubspace" title="smol.cofe.ClusterSubspace"><em>ClusterSubspace</em></a>) – A cluster subspace</p></li>
<li><p><strong>supercell_matrix</strong> (<em>ndarray</em>) – An array representing the supercell matrix with respect to the
Cluster Expansion prim structure.</p></li>
<li><p><strong>coefficients</strong> (<em>ndarray</em>) – Fit coefficients for the represented cluster expansion.</p></li>
<li><p><strong>optimize_indicator</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – When using an indicator basis, sets the function to compute
correlation differences to the indicator optimized function.
This can make MC steps faster.
Make sure your cluster expansion was indeed fit with an
indicator basis set, otherwise your MC results are no good.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.moca.processor.CEProcessor.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a><a class="headerlink" href="#smol.moca.processor.CEProcessor.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.CEProcessor.compute_feature_vector">
<code class="sig-name descname">compute_feature_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.CEProcessor.compute_feature_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the correlation vector for a given occupancy string.</p>
<p>The correlation vector in this case is normalized per supercell. In
other works it is extensive corresponding to the size of the supercell.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupation array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.CEProcessor.compute_feature_vector_change">
<code class="sig-name descname">compute_feature_vector_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.CEProcessor.compute_feature_vector_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the change in the correlation vector from a list of flips.</p>
<p>The correlation vector in this case is normalized per supercell. In
other works it is extensive corresponding to the size of the supercell.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy string</p></li>
<li><p><strong>flips</strong> (<em>list of tuple</em>) – list of tuples with two elements. Each tuple represents a
single flip where the first element is the index of the site
in the occupancy string and the second element is the index
for the new species to place at that site.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>change in correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.CEProcessor.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.CEProcessor.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a CEProcessor from serialized MSONable dict.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.moca.processor.CompositeProcessor">
<em class="property">class </em><code class="sig-name descname">CompositeProcessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_subspace</span></em>, <em class="sig-param"><span class="n">supercell_matrix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.CompositeProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.moca.processor.base.Processor" title="smol.moca.processor.base.Processor"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.moca.processor.base.Processor</span></code></a></p>
<p>CompositeProcessor class used for mixed models.</p>
<p>A Composite processor is merely a container for many different processors
that acts as an interface such that it can be used in the same way as an
individual processor. This can be used to mix models in any way that your
heart desires.</p>
<p>The most common use case of them all is a CompositeProcessor of a
CEProcessor and an EwaldProcessor for use in ionic materials.</p>
<p>You can add anyone of the other processor class implemented to build a
composite processor.</p>
<p>It is recommended to use the <code class="code docutils literal notranslate"><span class="pre">from_cluster_expansion</span></code> to create an
ensemble and the underlying processor automatically rather than directly
creating a processor. This will take care of creating the correct
<a class="reference internal" href="#smol.moca.processor.CompositeProcessor" title="smol.moca.processor.CompositeProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompositeProcessor</span></code></a> or <a class="reference internal" href="#smol.moca.processor.CEProcessor" title="smol.moca.processor.CEProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CEProcessor</span></code></a> for you.</p>
<p>Initialize a CompositeProcessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_subspace</strong> (<a class="reference internal" href="smol.cofe.html#smol.cofe.ClusterSubspace" title="smol.cofe.ClusterSubspace"><em>ClusterSubspace</em></a>) – A cluster subspace</p></li>
<li><p><strong>supercell_matrix</strong> (<em>ndarray</em>) – An array representing the supercell matrix with respect to the
Cluster Expansion prim structure.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.moca.processor.CompositeProcessor.add_processor">
<code class="sig-name descname">add_processor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">processor</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.CompositeProcessor.add_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a processor to composite.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>processor</strong> (<a class="reference internal" href="#smol.moca.processor.base.Processor" title="smol.moca.processor.base.Processor"><em>Processor</em></a>) – Processor to add. Must have the same cluster subspace and
supercell matrix.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.CompositeProcessor.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a><a class="headerlink" href="#smol.moca.processor.CompositeProcessor.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.CompositeProcessor.compute_feature_vector">
<code class="sig-name descname">compute_feature_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.CompositeProcessor.compute_feature_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the feature vector for a given occupancy array.</p>
<p>Each entry in the correlation vector corresponds to a particular
symmetrically distinct bit ordering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupation array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.CompositeProcessor.compute_feature_vector_change">
<code class="sig-name descname">compute_feature_vector_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.CompositeProcessor.compute_feature_vector_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the change in the feature vector from a list of flips.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p></li>
<li><p><strong>flips</strong> (<em>list of tuple</em>) – list of tuples with two elements. Each tuple represents a
single flip where the first element is the index of the site
in the occupancy array and the second element is the index
for the new species to place at that site.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>change in feature vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.CompositeProcessor.compute_property">
<code class="sig-name descname">compute_property</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.CompositeProcessor.compute_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the value of the property for the given occupancy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>predicted property</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.CompositeProcessor.compute_property_change">
<code class="sig-name descname">compute_property_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.CompositeProcessor.compute_property_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute change in property from a set of flips.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p></li>
<li><p><strong>flips</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – list of tuples for (index of site, specie code to set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>property difference between inital and final states</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.CompositeProcessor.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.CompositeProcessor.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Composite from serialized MSONable dict.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.CompositeProcessor.processors">
<em class="property">property </em><code class="sig-name descname">processors</code><a class="headerlink" href="#smol.moca.processor.CompositeProcessor.processors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of processor in composite.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.moca.processor.EwaldProcessor">
<em class="property">class </em><code class="sig-name descname">EwaldProcessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_subspace</span></em>, <em class="sig-param"><span class="n">supercell_matrix</span></em>, <em class="sig-param"><span class="n">ewald_term</span></em>, <em class="sig-param"><span class="n">coefficient</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">ewald_summation</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.EwaldProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.moca.processor.base.Processor" title="smol.moca.processor.base.Processor"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.moca.processor.base.Processor</span></code></a></p>
<p>Processor for CE’s including an EwaldTerm.</p>
<p>A Processor class that handles changes for the electrostatic interaction
energy using an Ewald Summation term.</p>
<p>Initialize an EwaldCEProcessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cluster_subspace</strong> (<a class="reference internal" href="smol.cofe.html#smol.cofe.ClusterSubspace" title="smol.cofe.ClusterSubspace"><em>ClusterSubspace</em></a>) – A cluster subspace.</p></li>
<li><p><strong>supercell_matrix</strong> (<em>ndarray</em>) – An array representing the supercell matrix with respect to the
Cluster Expansion prim structure.</p></li>
<li><p><strong>ewald_term</strong> (<a class="reference internal" href="smol.cofe.extern.html#smol.cofe.extern.ewald.EwaldTerm" title="smol.cofe.extern.ewald.EwaldTerm"><em>EwaldTerm</em></a>) – An instance of EwaldTerm to compute electrostatic energies.</p></li>
<li><p><strong>coefficient</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Fitting coeficient to scale Ewald energy by.</p></li>
<li><p><strong>ewald_summation</strong> (<em>EwaldSummation</em>) – optional
pymatgen EwaldSummation instance, make sure this uses the exact
same parameters as those used in the EwaldTerm in the cluster
Expansion (i.e. same eta, real and recip cuts).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.moca.processor.EwaldProcessor.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a><a class="headerlink" href="#smol.moca.processor.EwaldProcessor.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.EwaldProcessor.compute_feature_vector">
<code class="sig-name descname">compute_feature_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.EwaldProcessor.compute_feature_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the feature vector for a given occupancy array.</p>
<p>Each entry in the correlation vector corresponds to a particular
symmetrically distinct bit ordering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupation array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.EwaldProcessor.compute_feature_vector_change">
<code class="sig-name descname">compute_feature_vector_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.EwaldProcessor.compute_feature_vector_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the change in the feature vector from a list of flips.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy string</p></li>
<li><p><strong>flips</strong> (<em>list of tuple</em>) – list of tuples with two elements. Each tuple represents a
single flip where the first element is the index of the site
in the occupancy string and the second element is the index
for the new species to place at that site.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>change in correlation vector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.EwaldProcessor.compute_property">
<code class="sig-name descname">compute_property</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.EwaldProcessor.compute_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the Ewald electrostatic energy for a given occupancy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Ewald electrostatic energy</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.EwaldProcessor.compute_property_change">
<code class="sig-name descname">compute_property_change</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">occupancy</span></em>, <em class="sig-param"><span class="n">flips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.EwaldProcessor.compute_property_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute change in electrostatic energy from a set of flips.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy array</p></li>
<li><p><strong>flips</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – list of tuples for (index of site, specie code to set)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>electrostatic energy change</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.EwaldProcessor.ewald_matrix">
<em class="property">property </em><code class="sig-name descname">ewald_matrix</code><a class="headerlink" href="#smol.moca.processor.EwaldProcessor.ewald_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the electrostatic interaction matrix.</p>
<p>The matrix used is the one set in the EwaldTerm of the given
ClusterExpansion.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.EwaldProcessor.ewald_summation">
<em class="property">property </em><code class="sig-name descname">ewald_summation</code><a class="headerlink" href="#smol.moca.processor.EwaldProcessor.ewald_summation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the pymatgen EwaldSummation object.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.moca.processor.EwaldProcessor.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.moca.processor.EwaldProcessor.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a CEProcessor from serialized MSONable dict.</p>
</dd></dl>

</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2020, Ceder Group.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>