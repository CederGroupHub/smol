<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>smol.cofe.space package &#8212; smol 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/_static/default.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          smol</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="examples.html">Examples</a></li>
                <li><a href="api.html">API</a></li>
                <li><a href="https://github.com/CederGroupHub/smol">GitHub</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">smol.cofe.space package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-smol.cofe.space.basis">smol.cofe.space.basis module</a></li>
<li><a class="reference internal" href="#module-smol.cofe.space.cluster">smol.cofe.space.cluster module</a></li>
<li><a class="reference internal" href="#module-smol.cofe.space.clusterspace">smol.cofe.space.clusterspace module</a></li>
<li><a class="reference internal" href="#module-smol.cofe.space.constants">smol.cofe.space.constants module</a></li>
<li><a class="reference internal" href="#module-smol.cofe.space.domain">smol.cofe.space.domain module</a></li>
<li><a class="reference internal" href="#module-smol.cofe.space.orbit">smol.cofe.space.orbit module</a></li>
<li><a class="reference internal" href="#module-smol.cofe.space">Module contents</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="smol-cofe-space-package">
<h1>smol.cofe.space package<a class="headerlink" href="#smol-cofe-space-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-smol.cofe.space.basis">
<span id="smol-cofe-space-basis-module"></span><h2>smol.cofe.space.basis module<a class="headerlink" href="#module-smol.cofe.space.basis" title="Permalink to this headline">¶</a></h2>
<p>Definitions for basis functions over a site function space.</p>
<p>The product of single site functions make up a cluster/orbit function used to
obtain correlation vectors. The domain of a site function is a site space,
which is defined by the allowed species at the site and their measures, which
is concentration of the species in the random structure)</p>
<dl class="py class">
<dt id="smol.cofe.space.basis.BasisIterator">
<em class="property">class </em><code class="sig-name descname">BasisIterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">species</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.BasisIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Iterator</span></code></a></p>
<p>Abstract basis iterator class.</p>
<p>A basis iterator iterates through all non-constant site basis functions.
i.e. for basis <span class="math notranslate nohighlight">\(\phi_0 = 1, \phi_1, ..., \phi_{n-1}\)</span>,
the iterator will just iterate through <span class="math notranslate nohighlight">\(\phi_1, ..., \phi_{n-1}\)</span></p>
<dl class="py attribute">
<dt id="smol.cofe.space.basis.BasisIterator.flavor">
<code class="sig-name descname">flavor</code><a class="headerlink" href="#smol.cofe.space.basis.BasisIterator.flavor" title="Permalink to this definition">¶</a></dt>
<dd><p>Name specifying the type of basis that is generated.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<p>Initialize a BasisIterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>species</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – tuple of allowed species in site spaces</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="id0">
<code class="sig-name descname">flavor</code><em class="property"> = 'abstract'</em><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.cofe.space.basis.ChebyshevIterator">
<em class="property">class </em><code class="sig-name descname">ChebyshevIterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">species</span></em>, <em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.ChebyshevIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.cofe.space.basis.NumpyPolyIterator" title="smol.cofe.space.basis.NumpyPolyIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.cofe.space.basis.NumpyPolyIterator</span></code></a></p>
<p>Chebyshev polynomial basis set iterator.</p>
<p>Initialize a NumpyPolyIterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – tuple of allowed species in site spaces</p></li>
<li><p><strong>low</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – optional
lower limit of interval for encoding</p></li>
<li><p><strong>high</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – optional
higher limit of interval for encoding</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.space.basis.ChebyshevIterator.polyval">
<em class="property">property </em><code class="sig-name descname">polyval</code><a class="headerlink" href="#smol.cofe.space.basis.ChebyshevIterator.polyval" title="Permalink to this definition">¶</a></dt>
<dd><p>Return numpy Chebyshev polynomial eval.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.cofe.space.basis.IndicatorIterator">
<em class="property">class </em><code class="sig-name descname">IndicatorIterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">species</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.IndicatorIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.cofe.space.basis.BasisIterator" title="smol.cofe.space.basis.BasisIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.cofe.space.basis.BasisIterator</span></code></a></p>
<p>Iterator for cluster indicator site basis functions.</p>
<p>The basis generated as defined is not orthogonal for any number of species.</p>
<p>Initialize a BasisIterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>species</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – tuple of allowed species in site spaces</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="smol.cofe.space.basis.IndicatorIterator.flavor">
<code class="sig-name descname">flavor</code><em class="property"> = 'indicator'</em><a class="headerlink" href="#smol.cofe.space.basis.IndicatorIterator.flavor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.cofe.space.basis.LegendreIterator">
<em class="property">class </em><code class="sig-name descname">LegendreIterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">species</span></em>, <em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.LegendreIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.cofe.space.basis.NumpyPolyIterator" title="smol.cofe.space.basis.NumpyPolyIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.cofe.space.basis.NumpyPolyIterator</span></code></a></p>
<p>Legendre polynomial basis set iterator.</p>
<p>Initialize a NumpyPolyIterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – tuple of allowed species in site spaces</p></li>
<li><p><strong>low</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – optional
lower limit of interval for encoding</p></li>
<li><p><strong>high</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – optional
higher limit of interval for encoding</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.space.basis.LegendreIterator.polyval">
<em class="property">property </em><code class="sig-name descname">polyval</code><a class="headerlink" href="#smol.cofe.space.basis.LegendreIterator.polyval" title="Permalink to this definition">¶</a></dt>
<dd><p>Return numpy Legendre polynomial eval.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.cofe.space.basis.NumpyPolyIterator">
<em class="property">class </em><code class="sig-name descname">NumpyPolyIterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">species</span></em>, <em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.NumpyPolyIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.cofe.space.basis.BasisIterator" title="smol.cofe.space.basis.BasisIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.cofe.space.basis.BasisIterator</span></code></a></p>
<p>Class to quickly implement polynomial basis sets included in numpy.</p>
<p>Initialize a NumpyPolyIterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – tuple of allowed species in site spaces</p></li>
<li><p><strong>low</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – optional
lower limit of interval for encoding</p></li>
<li><p><strong>high</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – optional
higher limit of interval for encoding</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.space.basis.NumpyPolyIterator.polyval">
<em class="property">abstract property </em><code class="sig-name descname">polyval</code><a class="headerlink" href="#smol.cofe.space.basis.NumpyPolyIterator.polyval" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numpy polyval function.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.cofe.space.basis.PolynomialIterator">
<em class="property">class </em><code class="sig-name descname">PolynomialIterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">species</span></em>, <em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.PolynomialIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.cofe.space.basis.NumpyPolyIterator" title="smol.cofe.space.basis.NumpyPolyIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.cofe.space.basis.NumpyPolyIterator</span></code></a></p>
<p>A standard polynomial basis set iterator.</p>
<p>Initialize a NumpyPolyIterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – tuple of allowed species in site spaces</p></li>
<li><p><strong>low</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – optional
lower limit of interval for encoding</p></li>
<li><p><strong>high</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – optional
higher limit of interval for encoding</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.space.basis.PolynomialIterator.polyval">
<em class="property">property </em><code class="sig-name descname">polyval</code><a class="headerlink" href="#smol.cofe.space.basis.PolynomialIterator.polyval" title="Permalink to this definition">¶</a></dt>
<dd><p>Return numpy Chebyshev polynomial eval.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.cofe.space.basis.SinusoidIterator">
<em class="property">class </em><code class="sig-name descname">SinusoidIterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">species</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.SinusoidIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#smol.cofe.space.basis.BasisIterator" title="smol.cofe.space.basis.BasisIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">smol.cofe.space.basis.BasisIterator</span></code></a></p>
<p>Iterator for sinusoid (trig basis) as proposed by A. van de Walle.</p>
<ol class="upperalpha simple">
<li><p>van de Walle, Calphad. 33, 266–278 (2009).</p></li>
</ol>
<p>This basis is properly orthogonal for any number of allowed species out of
the box, but it is not orthonormal for allowed species &gt; 2.</p>
<p>Initialize a SinusoidIterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>species</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a>) – tuple of allowed species in site spaces</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="smol.cofe.space.basis.SinusoidIterator.flavor">
<code class="sig-name descname">flavor</code><em class="property"> = 'sinusoid'</em><a class="headerlink" href="#smol.cofe.space.basis.SinusoidIterator.flavor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.cofe.space.basis.SiteBasis">
<em class="property">class </em><code class="sig-name descname">SiteBasis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">site_space</span></em>, <em class="sig-param"><span class="n">basis_functions</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.SiteBasis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>Class that represents the basis for a site function space.</p>
<p>Note that all SiteBasis in theory have the first basis function
<span class="math notranslate nohighlight">\(\phi_0 = 1\)</span>, but this should not be defined since it is handled
implicitly when computing bit_combos using total no. species - 1 in the
Orbit class.</p>
<p>The particular basis set is set by giving an iterable of basis functions.
See BasisIterator classes for details.</p>
<p>Initialize a SiteBasis.</p>
<p>Currently also accepts an OrderedDict but if you find yourself creating
one like so for use in production and not debuging know that it will
break MSONable methods in classes that use these, and at any point I
could change this to not allow OrderedDicts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>site_space</strong> (<em>OrderedDict</em><em> or </em><a class="reference internal" href="#smol.cofe.space.domain.SiteSpace" title="smol.cofe.space.domain.SiteSpace"><em>SiteSpace</em></a>) – Dict representing site space (Specie, measure) or a SiteSpace
object.</p></li>
<li><p><strong>basis_functions</strong> (<em>Sequence like</em>) – A Sequence of the nonconstant basis functions. Must take the
valuves of species as input.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.space.basis.SiteBasis.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a><a class="headerlink" href="#smol.cofe.space.basis.SiteBasis.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get MSONable dict representation.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.basis.SiteBasis.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.SiteBasis.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a SiteSpace from dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – MSONable dict representation</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SiteBasis</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.basis.SiteBasis.function_array">
<em class="property">property </em><code class="sig-name descname">function_array</code><a class="headerlink" href="#smol.cofe.space.basis.SiteBasis.function_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Get array with the non-constant site functions as rows.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.basis.SiteBasis.is_orthogonal">
<em class="property">property </em><code class="sig-name descname">is_orthogonal</code><a class="headerlink" href="#smol.cofe.space.basis.SiteBasis.is_orthogonal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the basis is orthogonal.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.basis.SiteBasis.is_orthonormal">
<em class="property">property </em><code class="sig-name descname">is_orthonormal</code><a class="headerlink" href="#smol.cofe.space.basis.SiteBasis.is_orthonormal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the basis is orthonormal.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.basis.SiteBasis.measure_vector">
<em class="property">property </em><code class="sig-name descname">measure_vector</code><a class="headerlink" href="#smol.cofe.space.basis.SiteBasis.measure_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get vector of site species measures.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.basis.SiteBasis.orthonormalization_array">
<em class="property">property </em><code class="sig-name descname">orthonormalization_array</code><a class="headerlink" href="#smol.cofe.space.basis.SiteBasis.orthonormalization_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Get R array from QR factorization.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.basis.SiteBasis.orthonormalize">
<code class="sig-name descname">orthonormalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.SiteBasis.orthonormalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Orthonormalizes basis function set based on initial basis set.</p>
<p>Functions are orthonormal w.r.t the measure given.
(basis functions are also orthogonal to phi_0 = 1).</p>
<p>Modified GS-QR factorization of function array (here we are using
row vectors as opposed to the correct way of doing QR using columns.
Due to how the func_arr is saved (rows are vectors/functions) this
allows us to not sprinkle so many transposes.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.basis.SiteBasis.site_space">
<em class="property">property </em><code class="sig-name descname">site_space</code><a class="headerlink" href="#smol.cofe.space.basis.SiteBasis.site_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Get dict of the site probability space.</p>
<p>The site space refers to the probability space represented by the
allowed species and their respective probabilities (concentration)
over which the site functions are defined.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.basis.SiteBasis.species">
<em class="property">property </em><code class="sig-name descname">species</code><a class="headerlink" href="#smol.cofe.space.basis.SiteBasis.species" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of allowed site species.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.basis.basis_factory">
<code class="sig-name descname">basis_factory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">basis_name</span></em>, <em class="sig-param"><span class="n">site_space</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.basis_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a site basis for the given basis name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>basis_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of the basis.</p></li>
<li><p><strong>site_space</strong> (<em>Sequence</em><em> or </em><em>OrderedDict</em>) – Site space over which the basis set is defined.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SiteBasis</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.basis.cos_f">
<code class="sig-name descname">cos_f</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">m</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.cos_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Return basis function for odd indices.</p>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.basis.encode_domain">
<code class="sig-name descname">encode_domain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">encoding</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.encode_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate a function with an encoding for its domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – dictionary for encoding.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.basis.indicator">
<code class="sig-name descname">indicator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">sp</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.indicator" title="Permalink to this definition">¶</a></dt>
<dd><p>Singleton indicator function for elementary events.</p>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.basis.sin_f">
<code class="sig-name descname">sin_f</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">m</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.sin_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Return basis function for even indices.</p>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.basis.sinusoid_factory">
<code class="sig-name descname">sinusoid_factory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">m</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis.sinusoid_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Sine or cosine based on AVvW sinusoid site basis.</p>
</dd></dl>

</div>
<div class="section" id="module-smol.cofe.space.cluster">
<span id="smol-cofe-space-cluster-module"></span><h2>smol.cofe.space.cluster module<a class="headerlink" href="#module-smol.cofe.space.cluster" title="Permalink to this headline">¶</a></h2>
<p>Implementation of the Cluster class.</p>
<p>Represents a group of sites of a given lattice. These are the building blocks
for a cluster basis of functions over configurational space.</p>
<dl class="py class">
<dt id="smol.cofe.space.cluster.Cluster">
<em class="property">class </em><code class="sig-name descname">Cluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sites</span></em>, <em class="sig-param"><span class="n">lattice</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.cluster.Cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>An undecorated (no occupancies) cluster.</p>
<p>Represented simply by a list of sites, its centroid, and the underlying
lattice.</p>
<p>You probably never need to instantiate this class directly. Look at
ClusterSubspace to create orbits and clusters necessary for a CE.</p>
<dl class="py attribute">
<dt id="smol.cofe.space.cluster.Cluster.sites">
<code class="sig-name descname">sites</code><a class="headerlink" href="#smol.cofe.space.cluster.Cluster.sites" title="Permalink to this definition">¶</a></dt>
<dd><p>list of fractional coordinates of each site.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.cluster.Cluster.lattice">
<code class="sig-name descname">lattice</code><a class="headerlink" href="#smol.cofe.space.cluster.Cluster.lattice" title="Permalink to this definition">¶</a></dt>
<dd><p>underlying lattice of cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Lattice</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.cluster.Cluster.centroid">
<code class="sig-name descname">centroid</code><a class="headerlink" href="#smol.cofe.space.cluster.Cluster.centroid" title="Permalink to this definition">¶</a></dt>
<dd><p>goemetric centroid of included sites.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.cluster.Cluster.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#smol.cofe.space.cluster.Cluster.id" title="Permalink to this definition">¶</a></dt>
<dd><p>id of cluster.
Used to identify the cluster in a given ClusterSubspace.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<p>Initialize Cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – list of frac coords for the sites</p></li>
<li><p><strong>lattice</strong> (<em>Lattice</em>) – pymatgen Lattice object</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.space.cluster.Cluster.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.cluster.Cluster.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.cluster.Cluster.assign_ids">
<code class="sig-name descname">assign_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.cluster.Cluster.assign_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively assign ids to clusters after initialization.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.cluster.Cluster.diameter">
<em class="property">property </em><code class="sig-name descname">diameter</code><a class="headerlink" href="#smol.cofe.space.cluster.Cluster.diameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get maximum distance between 2 sites in cluster.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.cluster.Cluster.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.cluster.Cluster.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a cluster from serialized dict.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.cluster.Cluster.from_sites">
<em class="property">classmethod </em><code class="sig-name descname">from_sites</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sites</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.cluster.Cluster.from_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a cluster from a list of pymatgen Sites.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.cluster.Cluster.radius">
<em class="property">property </em><code class="sig-name descname">radius</code><a class="headerlink" href="#smol.cofe.space.cluster.Cluster.radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Get half the maximum distance between 2 sites in cluster.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.cluster.Cluster.size">
<em class="property">property </em><code class="sig-name descname">size</code><a class="headerlink" href="#smol.cofe.space.cluster.Cluster.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of sites in the cluster.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-smol.cofe.space.clusterspace">
<span id="smol-cofe-space-clusterspace-module"></span><h2>smol.cofe.space.clusterspace module<a class="headerlink" href="#module-smol.cofe.space.clusterspace" title="Permalink to this headline">¶</a></h2>
<p>Implements the ClusterSubspace class.</p>
<dl class="py class">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace">
<em class="property">class </em><code class="sig-name descname">ClusterSubspace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em>, <em class="sig-param"><span class="n">expansion_structure</span></em>, <em class="sig-param"><span class="n">symops</span></em>, <em class="sig-param"><span class="n">orbits</span></em>, <em class="sig-param"><span class="n">supercell_matcher</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">site_matcher</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">matcher_kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>ClusterSubspace represents a subspace of functions of configuration.</p>
<p>A <a class="reference internal" href="#smol.cofe.space.clusterspace.ClusterSubspace" title="smol.cofe.space.clusterspace.ClusterSubspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code></a> is the main work horse used in constructing a
cluster expansion. It is necessary to define the terms to be included in a
cluster expansion. A cluster subspace holds a finite set of orbits that
contain symmetrically equivalent clusters. The orbits also contain the set
of orbit basis functions (also known as correlation functions) that
represent the terms in the cluster expansion. Taken together the set of all
orbit functions for all orbits included span a subspace of the total
function space over the configurational space of a given crystal structure
system.</p>
<p>The <a class="reference internal" href="#smol.cofe.space.clusterspace.ClusterSubspace" title="smol.cofe.space.clusterspace.ClusterSubspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code></a> also has methods to match fitting structures
and determine site mappings for supercells of different sizes in order to
compute correlation vectors (i.e. evaluate the orbit functions for a given
structure).</p>
<p>Holds a structure, its expansion structure and a list of Orbits.
This class defines the cluster subspace over which to fit a cluster
expansion: This sets the orbits (groups of clusters) and the site basis
functions that are to be considered in the fit.</p>
<p>You probably want to generate from <code class="code docutils literal notranslate"><span class="pre">ClusterSubspace.from_cutoffs</span></code>,
which will auto-generate the orbits from diameter cutoffs.</p>
<dl class="py attribute">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.symops">
<code class="sig-name descname">symops</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.symops" title="Permalink to this definition">¶</a></dt>
<dd><p>Symmetry operations of structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of SymmOp</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.num_corr_functions">
<code class="sig-name descname">num_corr_functions</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.num_corr_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of correlation functions (orbit basis functions)
included in the subspace.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.num_orbits">
<code class="sig-name descname">num_orbits</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.num_orbits" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of crystallographic orbits included in the subspace.
This includes the empty orbit.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.num_clusters">
<code class="sig-name descname">num_clusters</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.num_clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of clusters in the primitive cell that are included
in the subspace.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<p>Initialize a ClusterSubspace.</p>
<p>You rarely will need to create a ClusterSubspace using the main
constructor.
Look at the class method <code class="code docutils literal notranslate"><span class="pre">from_cutoffs</span></code> for the “better” way to
do instantiate a ClusterSubspace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>Structure</em>) – Structure to define the cluster space. Typically the primitive
cell. Includes all species regardless of partial occupation.</p></li>
<li><p><strong>expansion_structure</strong> (<em>Structure</em>) – Structure including only sites that will be included in the
Cluster space. (only those with partial occupancy)</p></li>
<li><p><strong>symops</strong> (<em>list of Symmop</em>) – list of Symmops for the given structure.</p></li>
<li><p><strong>orbits</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – {size: list of Orbits}
Dictionary with size (number of sites) as keys and list of
Orbits as values.</p></li>
<li><p><strong>supercell_matcher</strong> (<em>StructureMatcher</em>) – (optional)
A StructureMatcher class to be used to find supercell matrices
relating the prim structure to other structures. If you pass
this directly you should know how to set the matcher up, other
wise matching your relaxed structures can fail, alot.</p></li>
<li><p><strong>site_matcher</strong> (<em>StructureMatcher</em>) – (optional)
A StructureMatcher class to be used to find site mappings
relating the sites of a given structure to an appropriate
supercell of the prim structure . If you pass this directly you
should know how to set the matcher up other wise matching your
relaxed structures can fail, alot.</p></li>
<li><p><strong>matcher_kwargs</strong> – ltol, stol, angle_tol, supercell_size: parameters to pass
through to the StructureMatchers. Structures that don’t match
to the primitive cell under these tolerances won’t be included
in the expansion. Easiest option for supercell_size is usually
to use a species that has a constant amount per formula unit.
See pymatgen documentation of <code class="xref py py-class docutils literal notranslate"><span class="pre">StructureMatcher</span></code> for
more details.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.add_external_term">
<code class="sig-name descname">add_external_term</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">term</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.add_external_term" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an external term to subspace.</p>
<p>Add an external term (e.g. an Ewald term) to the cluster expansion
terms. External term classes must be MSONable and implement a method
to obtain a “correlation” see smol.cofe.extern for examples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>term</strong> (<em>ExternalTerm</em>) – An instance of an external term. Currently only EwaldTerm is
implemented.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.basis_orthogonal">
<em class="property">property </em><code class="sig-name descname">basis_orthogonal</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.basis_orthogonal" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the orbit basis defined is orthogonal.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.basis_orthonormal">
<em class="property">property </em><code class="sig-name descname">basis_orthonormal</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.basis_orthonormal" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the orbit basis is orthonormal.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.basis_type">
<em class="property">property </em><code class="sig-name descname">basis_type</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.basis_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the type of site basis set used.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.change_site_bases">
<code class="sig-name descname">change_site_bases</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_basis</span></em>, <em class="sig-param"><span class="n">orthonormal</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.change_site_bases" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the type of site basis used in the site basis functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_basis</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – name of new basis for all site bases</p></li>
<li><p><strong>orthonormal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – option to orthonormalize all new site basis sets</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deep copy of instance.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.corr_from_structure">
<code class="sig-name descname">corr_from_structure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em>, <em class="sig-param"><span class="n">normalized</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">scmatrix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">site_mapping</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.corr_from_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Get correlation vector for structure.</p>
<p>Returns the correlation vector for a given structure. To do this the
correct supercell matrix of the prim needs to be found to then
determine the mappings between sites to create the occupancy
string and also determine the orbit mappings to evaluate the
corresponding cluster functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>Structure</em>) – structure to compute correlation from</p></li>
<li><p><strong>normalized</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – return the correlation vector normalized by the prim cell size.
In theory correlation vectors are always normalized, but
getting them without normalization allows to compute the
“extensive” values.</p></li>
<li><p><strong>scmatrix</strong> (<em>ndarray</em>) – optional
supercell matrix relating the prim structure to the given
structure. Passing this if it has already been matched will
make things much quicker. You are responsible that it is
correct.</p></li>
<li><p><strong>site_mapping</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – optional
Site mapping as obtained by
<code class="code docutils literal notranslate"><span class="pre">StructureMatcher.get_mapping</span></code>
such that the elements of site_mapping represent the indices
of the matching sites to the prim structure. If you pass this
option you are fully responsible that the mappings are correct!</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>correlation vector for given structure</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.expansion_structure">
<em class="property">property </em><code class="sig-name descname">expansion_structure</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.expansion_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the primitive expansion structure (excludes inactive sites).</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.external_terms">
<em class="property">property </em><code class="sig-name descname">external_terms</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.external_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Get external terms to be fitted together with the correlations.</p>
<p>External terms are those represented by pair interaction Hamiltonians
(i.e. Ewald electrostatics)</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.from_cutoffs">
<em class="property">classmethod </em><code class="sig-name descname">from_cutoffs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em>, <em class="sig-param"><span class="n">cutoffs</span></em>, <em class="sig-param"><span class="n">basis</span><span class="o">=</span><span class="default_value">'indicator'</span></em>, <em class="sig-param"><span class="n">orthonormal</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">use_concentration</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">supercell_matcher</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">site_matcher</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">matcher_kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.from_cutoffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a ClusterSubspace from diameter cutoffs.</p>
<p>Creates a <a class="reference internal" href="#smol.cofe.space.clusterspace.ClusterSubspace" title="smol.cofe.space.clusterspace.ClusterSubspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code></a> with orbits of the given size and
diameter smaller than or equal to the given value. The diameter of an
orbit is the maximum distance between any two sites of a cluster of
that orbit.</p>
<p>The diameter of a cluster is the maximum distance between any two
sites in the cluster.</p>
<p>This is the best (and the only easy) way to create a
<a class="reference internal" href="#smol.cofe.space.clusterspace.ClusterSubspace" title="smol.cofe.space.clusterspace.ClusterSubspace"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>Structure</em>) – Disordered structure to build a cluster expansion for.
Typically the primitive cell</p></li>
<li><p><strong>cutoffs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – dict of {cluster_size: diameter cutoff}. Cutoffs should be
strictly decreasing. Typically something like {2:5, 3:4}.
Empty and singlet orbits are always included.
To obtain a subspace with only an empty and singlet terms use
an empty dict {}</p></li>
<li><p><strong>basis</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A string specifying the site basis functions</p></li>
<li><p><strong>orthonormal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Whether to enforce an orthonormal basis. From the current
available bases only the indicator basis is not orthogonal out
of the box</p></li>
<li><p><strong>use_concentration</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If true the concentrations in the prim structure sites will be
used to orthormalize site bases. This gives gives a cluster
subspace centered about the prim composition.</p></li>
<li><p><strong>supercell_matcher</strong> (<em>StructureMatcher</em>) – (optional)
A StructureMatcher class to be used to find supercell matrices
relating the prim structure to other structures. If you pass
this directly you should know how to set the matcher up other
wise matching your relaxed structures will fail, alot.</p></li>
<li><p><strong>site_matcher</strong> (<em>StructureMatcher</em>) – (optional)
A StructureMatcher class to be used to find site mappings
relating the sites of a given structure to an appropriate
supercell of the prim structure . If you pass this directly you
should know how to set the matcher up other wise matching your
relaxed structures will fail, alot.</p></li>
<li><p><strong>matcher_kwargs</strong> – ltol, stol, angle_tol, supercell_size. Parameters to pass
through to the StructureMatchers. Structures that don’t match
to the primitive cell under these tolerances won’t be included
in the expansion. Easiest option for supercell_size is usually
to use a species that has a constant amount per formula unit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ClusterSubSpace</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create ClusterSubspace from an MSONable dict.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.function_inds_by_cutoffs">
<code class="sig-name descname">function_inds_by_cutoffs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">upper</span></em>, <em class="sig-param"><span class="n">lower</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.function_inds_by_cutoffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get indices of corr functions by cluster cutoffs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>upper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – upper diameter for clusters to include.</p></li>
<li><p><strong>lower</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – optional
lower diameter for clusters to include.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>of corr function indices for clusters within cutoffs</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.function_inds_by_size">
<em class="property">property </em><code class="sig-name descname">function_inds_by_size</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.function_inds_by_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get correlation function indices by cluster sizes.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.function_orbit_ids">
<em class="property">property </em><code class="sig-name descname">function_orbit_ids</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.function_orbit_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Orbit IDs corresponding to each correlation function.</p>
<p>If the Cluster Subspace includes external terms these are not included
in the list since they are not associated with any orbit.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.function_ordering_multiplicities">
<em class="property">property </em><code class="sig-name descname">function_ordering_multiplicities</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.function_ordering_multiplicities" title="Permalink to this definition">¶</a></dt>
<dd><p>Get array of ordering multiplicity of each correlation function.</p>
<p>The length of the array returned is the total number of correlation
functions in the subspace for all orbits. The ordering multiplicity of
a correlation function is the number of symmetrically equivalent bit
orderings the result in the product of the same single site functions.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.function_total_multiplicities">
<em class="property">property </em><code class="sig-name descname">function_total_multiplicities</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.function_total_multiplicities" title="Permalink to this definition">¶</a></dt>
<dd><p>Get array of total multiplicity of each correlation function.</p>
<p>The length of the array returned is the total number of correlation
functions in the subspace for all orbits. The total multiplicity of a
correlation function is the number of symmetrically equivalent bit
orderings the result in the product of the same single site functions
times the (crystallographic) multiplicity of the orbit.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.iterorbits">
<code class="sig-name descname">iterorbits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.iterorbits" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield orbits.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.num_functions_per_orbit">
<em class="property">property </em><code class="sig-name descname">num_functions_per_orbit</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.num_functions_per_orbit" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of correlation functions for each orbit.</p>
<p>The list returned is of length total number of orbits, each entry is
the total number of correlation functions assocaited with that orbit.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.num_prims_from_matrix">
<em class="property">static </em><code class="sig-name descname">num_prims_from_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">scmatrix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.num_prims_from_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of prim structures in a supercell for a given matrix.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.occupancy_from_structure">
<code class="sig-name descname">occupancy_from_structure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em>, <em class="sig-param"><span class="n">scmatrix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">site_mapping</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">encode</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.occupancy_from_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Occupancy string for a given structure.</p>
<p>Returns a list of occupancies of each site in a the structure in the
appropriate order set implicitly by the supercell matrix that is found.</p>
<p>This function is used as input to compute correlation vectors for the
given structure.</p>
<p>This function is also useful to obtain an initial occupancy for a Monte
Carlo simulation (make sure that the same supercell matrix is being
used here as in the instance of the processor class for the simulation.
Although it is recommended to use the similar function in Processor
classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>Structure</em>) – structure to obtain a occupancy string for</p></li>
<li><p><strong>scmatrix</strong> (<em>array</em>) – optional
Super cell matrix relating the given structure and the
primitive structure. I you pass the supercell you fully are
responsible that it is the correct one! This prevents running
the _scmatcher (supercell structure matcher)</p></li>
<li><p><strong>site_mapping</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – optional
Site mapping as obtained by StructureMatcher.get_mapping
such that the elements of site_mapping represent the indices
of the matching sites to the prim structure. I you pass this
option you are fully responsible that the mappings are correct!
This prevents running _site_matcher to get the mappings.</p></li>
<li><p><strong>encode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – optional
If true the occupancy string will have the index of the species
in the expansion structure site spaces, rather than the
species itself.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>occupancy string for structure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.orbit_multiplicities">
<em class="property">property </em><code class="sig-name descname">orbit_multiplicities</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.orbit_multiplicities" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the crystallographic multiplicities for each orbit.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.orbits">
<em class="property">property </em><code class="sig-name descname">orbits</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.orbits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all orbits sorted by size.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.orbits_by_cutoffs">
<code class="sig-name descname">orbits_by_cutoffs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">upper</span></em>, <em class="sig-param"><span class="n">lower</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.orbits_by_cutoffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get orbits with clusters within given diameter cutoffs (inclusive).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>upper</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – upper diameter for clusters to include.</p></li>
<li><p><strong>lower</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – optional
lower diameter for clusters to include.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of Orbits</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.orbits_by_size">
<em class="property">property </em><code class="sig-name descname">orbits_by_size</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.orbits_by_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get dictionary of orbits with key being the orbit size.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.refine_structure">
<code class="sig-name descname">refine_structure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em>, <em class="sig-param"><span class="n">scmatrix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">site_mapping</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.refine_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Refine a (relaxed) structure.</p>
<p>Refine a (relaxed) structure to a perfect supercell structure of the
the prim structure (aka the corresponding “unrelaxed” structure).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>Structure</em>) – structure to refine to a perfect multiple of the prim</p></li>
<li><p><strong>scmatrix</strong> (<em>ndarray</em>) – optional
supercell matrix relating the prim structure to the given
structure. Passing this if it has already been matched will
make things much quicker. You are responsible for correctness.</p></li>
<li><p><strong>site_mapping</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – optional
Site mapping as obtained by StructureMatcher.get_mapping
such that the elements of site_mapping represent the indices
of the matching sites to the prim structure. Again you are
responsible.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The refined structure</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Structure</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.remove_orbit_bit_combos">
<code class="sig-name descname">remove_orbit_bit_combos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">orbit_bit_ids</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.remove_orbit_bit_combos" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove orbit bit combos by their ids.</p>
<p>Removes a specific bit combo from an orbit. This allows more granular
removal of terms involved in fitting/evaluating a cluster expansion.
Similar to remove_orbits this is useful to prune a cluster expansion
and actually allows to remove a single term (ie one with small
associated coefficient/ECI).</p>
<p>This procedure is perfectly well posed mathematically. The resultant
CE is still a valid function of configurations with all the necessary
symmetries from the underlying structure. Chemically however it is not
obvious what it means to remove certain combinations of an n-body
interaction term, and not the whole term itself. It would be justified
if we allow “in group” orbit eci sparsity…which everyone in the field
does anyway…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>orbit_bit_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – list of orbit bit ids to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.remove_orbits">
<code class="sig-name descname">remove_orbits</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">orbit_ids</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.remove_orbits" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove whole orbits by their ids.</p>
<p>Removes orbits from cluster spaces. It is helpful to print a
ClusterSubspace or ClusterExpansion to obtain orbit ids. After removing
orbits, orbit id and orbit bit id are re-assigned.</p>
<p>This is useful to prune a ClusterExpansion by removing orbits with
small associated coefficients or ECI. Note that this will remove a full
orbit, which for the case of sites with only two species is the same as
removing a single correlation vector element (only one ECI). For cases
with sites having more than 2 species allowed per site there are more
than one orbit functions (for all the possible bit orderings) and
removing an orbit will remove more than one element in the correlation
vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>orbit_ids</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – list of orbit ids to be removed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.scmatrix_from_structure">
<code class="sig-name descname">scmatrix_from_structure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.scmatrix_from_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Get supercell matrix from a given structure.</p>
<p>Obtain the supercell structure matrix to convert the prim structure
to a supercell equivalent to given structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>structure</strong> (<em>Structure</em>) – A pymatgen Structure.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matrix relating given structure and prim structure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.structure">
<em class="property">property </em><code class="sig-name descname">structure</code><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the underlying primitive structure including inactive sites.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.structure_site_mapping">
<code class="sig-name descname">structure_site_mapping</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">supercell</span></em>, <em class="sig-param"><span class="n">structure</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.structure_site_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Get structure site mapping.</p>
<p>Returns the mapping between sites in the given structure and a prim
supercell of the corresponding size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>supercell</strong> (<em>Structure</em>) – Supercell of prim structure with same size as other structure.</p></li>
<li><p><strong>structure</strong> (<em>Structure</em>) – Structure to obtain site mappings to supercell of prim</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>site mappings of structure to supercell</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.clusterspace.ClusterSubspace.supercell_orbit_mappings">
<code class="sig-name descname">supercell_orbit_mappings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">scmatrix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.clusterspace.ClusterSubspace.supercell_orbit_mappings" title="Permalink to this definition">¶</a></dt>
<dd><p>Get orbit mappings for a structure from supercell of prim.</p>
<p>Return the orbit mappings for a specific supercell of the prim
structure represented by the given matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>scmatrix</strong> (<em>array</em>) – array relating a supercell with the primitive matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(orbit, indices) list of tuples with orbits and the
site indices for all equivalent orbits in a supercell obtained
from the given matrix.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of tuples</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-smol.cofe.space.constants">
<span id="smol-cofe-space-constants-module"></span><h2>smol.cofe.space.constants module<a class="headerlink" href="#module-smol.cofe.space.constants" title="Permalink to this headline">¶</a></h2>
<p>Definitions of global constants used in cofe.cofigspace module.</p>
</div>
<div class="section" id="module-smol.cofe.space.domain">
<span id="smol-cofe-space-domain-module"></span><h2>smol.cofe.space.domain module<a class="headerlink" href="#module-smol.cofe.space.domain" title="Permalink to this headline">¶</a></h2>
<p>Implementation of SiteSpace and functions to get spaces and allowed species.</p>
<p>Implementation functions to generate lists of site spaces and allowed species
for a given disordered strucuture.</p>
<p>A site space is simply made up of the allowed species and their concentrations
including special species such as vacancies. A site spaces makes up the domain
of a site function and many site spaces make up the space of configurations.</p>
<dl class="py class">
<dt id="smol.cofe.space.domain.SiteSpace">
<em class="property">class </em><code class="sig-name descname">SiteSpace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">composition</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.domain.SiteSpace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Hashable" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Hashable</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>Represents a site space.</p>
<p>A site spaces is a set of allowed species at a site and their corresponding
measure (composition in the disordered state).</p>
<p>This class is somewhat similar to pymatgen Composition. However a SiteSpace
must always have a total composition = 1 since vacancies are explititly
included as species. A sorted order of the included species is also kept to
ensure a consistent encoding when creating basis functions. Vacancies are
always the last species. Key errors are raised for species not in space.</p>
<p>Initialize a site space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>composition</strong> (<em>Composition</em>) – Composition object that specifies the site space.</p>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.space.domain.SiteSpace.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a><a class="headerlink" href="#smol.cofe.space.domain.SiteSpace.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get MSONable dict representation.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.domain.SiteSpace.codes">
<em class="property">property </em><code class="sig-name descname">codes</code><a class="headerlink" href="#smol.cofe.space.domain.SiteSpace.codes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return range of species.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.domain.SiteSpace.composition">
<em class="property">property </em><code class="sig-name descname">composition</code><a class="headerlink" href="#smol.cofe.space.domain.SiteSpace.composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the underlying composition.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.domain.SiteSpace.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.domain.SiteSpace.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a SiteSpace from dict representation.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.cofe.space.domain.Vacancy">
<em class="property">class </em><code class="sig-name descname">Vacancy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">symbol</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">'A'</span></em>, <em class="sig-param"><span class="n">oxidation_state</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">properties</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.domain.Vacancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.core.periodic_table.DummySpecie</span></code></p>
<p>Wrapper class around DummySpecie to treat vacancies as their own.</p>
<p>Initialize a Vacancy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – An assigned symbol for the vacancy. Strict
rules are applied to the choice of the symbol. The vacancy
symbol cannot have any part of first two letters that will
constitute an Element symbol. Otherwise, a composition may
be parsed wrongly. E.g., “X” is fine, but “Vac” is not
because Vac contains V, a valid Element.</p></li>
<li><p><strong>oxidation_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – Oxidation state for Vacancy. More like
the charge of a point defect. Defaults to zero.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.domain.get_allowed_species">
<code class="sig-name descname">get_allowed_species</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.domain.get_allowed_species" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the allowed species for each site in a disordered structure.</p>
<p>This will get all the allowed species for each site in a pymatgen structure
If the site composition does not add to 1, a Vacancy will be appended to
the allowed species at that site.</p>
<p>Same as in a site space the order of the allowed species at each site is
important because that implicitly represents the code that will be used
when evaluating site basis functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>structure</strong> (<em>Structure</em>) – Structure to determine site spaces from at least some sites should
be disordered, otherwise there is no point in using this.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>of allowed species for each site</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of Specie</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.domain.get_site_spaces">
<code class="sig-name descname">get_site_spaces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em>, <em class="sig-param"><span class="n">include_measure</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.domain.get_site_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Get site spaces for each site in a disordered structure.</p>
<p>Method to obtain the single site spaces for the sites in a structure.
The single site spaces are represented by the allowed species for each site
and the measure/concentration for disordered sites. The order important so
the species need to be sorted, since that implicitly sets the code/index
used to evaluate basis functions.</p>
<p>Vacancies are included in sites where the site element composition does not
sum to 1 (i.e. the total occupation is not 1)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>Structure</em>) – Structure to determine site spaces from at least some sites should
be disordered, otherwise there is no point in using this.</p></li>
<li><p><strong>include_measure</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – optional
If true will take the site compositions as the site space measure,
otherwise a uniform measure is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Allowed species and their corresponding measure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#smol.cofe.space.domain.SiteSpace" title="smol.cofe.space.domain.SiteSpace">SiteSpace</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.domain.get_species">
<code class="sig-name descname">get_species</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.domain.get_species" title="Permalink to this definition">¶</a></dt>
<dd><p>Get specie object.</p>
<p>Wraps pymatgen.core.periodic_table.get_el_sp. to be able to catch and
return Vacancies when needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>Element/Specie/str/int</em>) – An arbitrary object.  Supported objects
are actual Element/Specie objects, integers (representing atomic
numbers) or strings (element symbols or species strings).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Specie, Element or Vacancy, with a bias for the maximum number of
properties that can be determined.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if obj cannot be converted into an Element</strong><strong> or </strong><strong>Specie.</strong> – </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-smol.cofe.space.orbit">
<span id="smol-cofe-space-orbit-module"></span><h2>smol.cofe.space.orbit module<a class="headerlink" href="#module-smol.cofe.space.orbit" title="Permalink to this headline">¶</a></h2>
<p>Implementation of an Orbit.</p>
<p>A set of symmetrically equivalent (with respect to the given random structure
symmetry) clusters.</p>
<dl class="py class">
<dt id="smol.cofe.space.orbit.Orbit">
<em class="property">class </em><code class="sig-name descname">Orbit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sites</span></em>, <em class="sig-param"><span class="n">lattice</span></em>, <em class="sig-param"><span class="n">bits</span></em>, <em class="sig-param"><span class="n">site_bases</span></em>, <em class="sig-param"><span class="n">structure_symops</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.orbit.Orbit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>Orbit set of symmetrically equivalent clusters.</p>
<p>An Orbit represents a set of clusters that are symmetrically equivalent
in the random structure. The class also includes the possible orderings on
the clusters in the orbit. The different orderings represent the single
site function indices to generate all possible orbit functions (correlation
functions) for the given orbit.</p>
<p>An orbit usually includes translational and structure symmetry of the
underlying lattice. But this is not a hard requirement any set of symmetry
operations can be passed to the constructor (regardless an orbit should at
a minimum have translational symmetry).</p>
<p>You probably never need to instantiate this class directly. Look at
ClusterSubspace to create orbits and clusters necessary for a CE.</p>
<dl class="py attribute">
<dt id="smol.cofe.space.orbit.Orbit.bits">
<code class="sig-name descname">bits</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.bits" title="Permalink to this definition">¶</a></dt>
<dd><p>list of lists describing the posible non-constant site function
indices at each site of a cluster in the orbit.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.orbit.Orbit.site_bases">
<code class="sig-name descname">site_bases</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.site_bases" title="Permalink to this definition">¶</a></dt>
<dd><p>list of the SiteBasis for each site.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of SiteBasis</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.orbit.Orbit.structure_symops">
<code class="sig-name descname">structure_symops</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.structure_symops" title="Permalink to this definition">¶</a></dt>
<dd><p>list of underlying structure symmetry operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of Symmops</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.orbit.Orbit.lattice">
<code class="sig-name descname">lattice</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.lattice" title="Permalink to this definition">¶</a></dt>
<dd><p>underlying structure lattice.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Lattice</p>
</dd>
</dl>
</dd></dl>

<p>Initialize an Orbit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em> or </em><em>ndarray</em>) – list of frac coords for the sites</p></li>
<li><p><strong>lattice</strong> (<em>pymatgen.Lattice</em>) – A lattice object for the given sites</p></li>
<li><p><strong>bits</strong> (<em>list of list</em>) – list describing the possible site function indices for
each site in cluster. Should be the number of possible
occupancies minus one. i.e. for a 3 site cluster, each of which
having one of Li, TM, or Vac, bits are [[0, 1], [0, 1], [0, 1]]
This is ensures the expansion is not “over-complete” by
implicitly enforcing that all sites have a site basis function
phi_0 = 1.</p></li>
<li><p><strong>site_bases</strong> (<em>list of SiteBasis</em>) – list of SiteBasis objects for each site in the given sites.</p></li>
<li><p><strong>structure_symops</strong> (<em>list of SymmOp</em>) – list of symmetry operations for the base structure</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.assign_ids">
<code class="sig-name descname">assign_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">orbit_id</span></em>, <em class="sig-param"><span class="n">orbit_bit_id</span></em>, <em class="sig-param"><span class="n">start_cluster_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.assign_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign unique orbit and cluster ids.</p>
<p>This should be called iteratively for a list of orbits to get a proper
set of unique id’s for the orbits.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orbit_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – orbit id</p></li>
<li><p><strong>orbit_bit_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – start bit ordering id</p></li>
<li><p><strong>start_cluster_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – start cluster id</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>next orbit id, next bit ordering id, next cluster id</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.bases_array">
<em class="property">property </em><code class="sig-name descname">bases_array</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.bases_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bases array.</p>
<p>3D array with all basis arrays. Since each basis array can be of
different dimension the 3D array is the size of the largest array.
Smaller arrays are padded with ones. Doing this allows using numpy
fancy indexing which can be faster than for loops.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.basis_arrays">
<em class="property">property </em><code class="sig-name descname">basis_arrays</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.basis_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a tuple of all site function arrays for each site in orbit.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.basis_orthogonal">
<em class="property">property </em><code class="sig-name descname">basis_orthogonal</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.basis_orthogonal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the Orbit bases are orthogonal.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.basis_orthonormal">
<em class="property">property </em><code class="sig-name descname">basis_orthonormal</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.basis_orthonormal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the orbit bases are orthonormal.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.basis_type">
<em class="property">property </em><code class="sig-name descname">basis_type</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.basis_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of basis set used.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.bit_combo_array">
<em class="property">property </em><code class="sig-name descname">bit_combo_array</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.bit_combo_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Single array of all bit combos.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.bit_combo_inds">
<em class="property">property </em><code class="sig-name descname">bit_combo_inds</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.bit_combo_inds" title="Permalink to this definition">¶</a></dt>
<dd><p>Get indices to symmetrically equivalent bits in bit combo array.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.bit_combo_multiplicities">
<em class="property">property </em><code class="sig-name descname">bit_combo_multiplicities</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.bit_combo_multiplicities" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the multiplicites of the symmetrically distinct bit ordering.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.bit_combos">
<em class="property">property </em><code class="sig-name descname">bit_combos</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.bit_combos" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of site bit orderings.</p>
<p>tuple of ndarrays, each array is a set of symmetrically equivalent bit
orderings represented by row. Bit combos represent non-constant site
function orderings.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.cluster_symops">
<em class="property">property </em><code class="sig-name descname">cluster_symops</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.cluster_symops" title="Permalink to this definition">¶</a></dt>
<dd><p>Get symmetry operations that map a cluster to its periodic image.</p>
<p>Each element is a tuple of (pymatgen.core.operations.Symop, mapping)
where mapping is a tuple such that
Symop.operate(sites) = sites[mapping]
(after translation back to unit cell)</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.clusters">
<em class="property">property </em><code class="sig-name descname">clusters</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Get symmetrically equivalent clusters.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.eval">
<code class="sig-name descname">eval</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bits</span></em>, <em class="sig-param"><span class="n">species_encoding</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate a cluster function defined for this orbit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bits</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – list of the cluster bits specifying which site basis function
to evaluate for the corresponding site.</p></li>
<li><p><strong>species_encoding</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – list of lists of species encoding for each site. (index of
species in species bits)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns: orbit function evaluated for the corresponding structure</dt><dd><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Orbit from serialized MSONable dict.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.multiplicity">
<em class="property">property </em><code class="sig-name descname">multiplicity</code><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.multiplicity" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of clusters in orbit.</p>
<p>Number of clusters in the given sites of the lattice object that are in
the orbit.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.remove_bit_combo">
<code class="sig-name descname">remove_bit_combo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bits</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.remove_bit_combo" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove bit_combos from orbit.</p>
<p>Only a single set bits in the bit combo (symmetrically equivalent bit
orderings) needs to be passed.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.remove_bit_combos_by_inds">
<code class="sig-name descname">remove_bit_combos_by_inds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.remove_bit_combos_by_inds" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove bit combos by their indices in the bit_combo list.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.orbit.Orbit.transform_site_bases">
<code class="sig-name descname">transform_site_bases</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">basis_name</span></em>, <em class="sig-param"><span class="n">orthonormal</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.orbit.Orbit.transform_site_bases" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the Orbits site bases to new basis set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>basis_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – name of new basis for all site bases</p></li>
<li><p><strong>orthonormal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – option to orthonormalize all new site bases</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-smol.cofe.space">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-smol.cofe.space" title="Permalink to this headline">¶</a></h2>
<p>Classes to define subspaces of functions over crystalline configurations.</p>
<p>Contains classes and functions necessary to represent the configurational space
of a crystalline system and the space of functions over it.</p>
<dl class="py class">
<dt id="smol.cofe.space.Cluster">
<em class="property">class </em><code class="sig-name descname">Cluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sites</span></em>, <em class="sig-param"><span class="n">lattice</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>An undecorated (no occupancies) cluster.</p>
<p>Represented simply by a list of sites, its centroid, and the underlying
lattice.</p>
<p>You probably never need to instantiate this class directly. Look at
ClusterSubspace to create orbits and clusters necessary for a CE.</p>
<dl class="py attribute">
<dt id="smol.cofe.space.Cluster.sites">
<code class="sig-name descname">sites</code><a class="headerlink" href="#smol.cofe.space.Cluster.sites" title="Permalink to this definition">¶</a></dt>
<dd><p>list of fractional coordinates of each site.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.Cluster.lattice">
<code class="sig-name descname">lattice</code><a class="headerlink" href="#smol.cofe.space.Cluster.lattice" title="Permalink to this definition">¶</a></dt>
<dd><p>underlying lattice of cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Lattice</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.Cluster.centroid">
<code class="sig-name descname">centroid</code><a class="headerlink" href="#smol.cofe.space.Cluster.centroid" title="Permalink to this definition">¶</a></dt>
<dd><p>goemetric centroid of included sites.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.Cluster.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#smol.cofe.space.Cluster.id" title="Permalink to this definition">¶</a></dt>
<dd><p>id of cluster.
Used to identify the cluster in a given ClusterSubspace.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p>
</dd>
</dl>
</dd></dl>

<p>Initialize Cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – list of frac coords for the sites</p></li>
<li><p><strong>lattice</strong> (<em>Lattice</em>) – pymatgen Lattice object</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.space.Cluster.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Cluster.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Cluster.assign_ids">
<code class="sig-name descname">assign_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cluster_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Cluster.assign_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively assign ids to clusters after initialization.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Cluster.diameter">
<em class="property">property </em><code class="sig-name descname">diameter</code><a class="headerlink" href="#smol.cofe.space.Cluster.diameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get maximum distance between 2 sites in cluster.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Cluster.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Cluster.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a cluster from serialized dict.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Cluster.from_sites">
<em class="property">classmethod </em><code class="sig-name descname">from_sites</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sites</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Cluster.from_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a cluster from a list of pymatgen Sites.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Cluster.radius">
<em class="property">property </em><code class="sig-name descname">radius</code><a class="headerlink" href="#smol.cofe.space.Cluster.radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Get half the maximum distance between 2 sites in cluster.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Cluster.size">
<em class="property">property </em><code class="sig-name descname">size</code><a class="headerlink" href="#smol.cofe.space.Cluster.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of sites in the cluster.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.cofe.space.Orbit">
<em class="property">class </em><code class="sig-name descname">Orbit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sites</span></em>, <em class="sig-param"><span class="n">lattice</span></em>, <em class="sig-param"><span class="n">bits</span></em>, <em class="sig-param"><span class="n">site_bases</span></em>, <em class="sig-param"><span class="n">structure_symops</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Orbit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>Orbit set of symmetrically equivalent clusters.</p>
<p>An Orbit represents a set of clusters that are symmetrically equivalent
in the random structure. The class also includes the possible orderings on
the clusters in the orbit. The different orderings represent the single
site function indices to generate all possible orbit functions (correlation
functions) for the given orbit.</p>
<p>An orbit usually includes translational and structure symmetry of the
underlying lattice. But this is not a hard requirement any set of symmetry
operations can be passed to the constructor (regardless an orbit should at
a minimum have translational symmetry).</p>
<p>You probably never need to instantiate this class directly. Look at
ClusterSubspace to create orbits and clusters necessary for a CE.</p>
<dl class="py attribute">
<dt id="smol.cofe.space.Orbit.bits">
<code class="sig-name descname">bits</code><a class="headerlink" href="#smol.cofe.space.Orbit.bits" title="Permalink to this definition">¶</a></dt>
<dd><p>list of lists describing the posible non-constant site function
indices at each site of a cluster in the orbit.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.Orbit.site_bases">
<code class="sig-name descname">site_bases</code><a class="headerlink" href="#smol.cofe.space.Orbit.site_bases" title="Permalink to this definition">¶</a></dt>
<dd><p>list of the SiteBasis for each site.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of SiteBasis</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.Orbit.structure_symops">
<code class="sig-name descname">structure_symops</code><a class="headerlink" href="#smol.cofe.space.Orbit.structure_symops" title="Permalink to this definition">¶</a></dt>
<dd><p>list of underlying structure symmetry operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of Symmops</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="smol.cofe.space.Orbit.lattice">
<code class="sig-name descname">lattice</code><a class="headerlink" href="#smol.cofe.space.Orbit.lattice" title="Permalink to this definition">¶</a></dt>
<dd><p>underlying structure lattice.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Lattice</p>
</dd>
</dl>
</dd></dl>

<p>Initialize an Orbit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em> or </em><em>ndarray</em>) – list of frac coords for the sites</p></li>
<li><p><strong>lattice</strong> (<em>pymatgen.Lattice</em>) – A lattice object for the given sites</p></li>
<li><p><strong>bits</strong> (<em>list of list</em>) – list describing the possible site function indices for
each site in cluster. Should be the number of possible
occupancies minus one. i.e. for a 3 site cluster, each of which
having one of Li, TM, or Vac, bits are [[0, 1], [0, 1], [0, 1]]
This is ensures the expansion is not “over-complete” by
implicitly enforcing that all sites have a site basis function
phi_0 = 1.</p></li>
<li><p><strong>site_bases</strong> (<em>list of SiteBasis</em>) – list of SiteBasis objects for each site in the given sites.</p></li>
<li><p><strong>structure_symops</strong> (<em>list of SymmOp</em>) – list of symmetry operations for the base structure</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.space.Orbit.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Orbit.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.assign_ids">
<code class="sig-name descname">assign_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">orbit_id</span></em>, <em class="sig-param"><span class="n">orbit_bit_id</span></em>, <em class="sig-param"><span class="n">start_cluster_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Orbit.assign_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign unique orbit and cluster ids.</p>
<p>This should be called iteratively for a list of orbits to get a proper
set of unique id’s for the orbits.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orbit_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – orbit id</p></li>
<li><p><strong>orbit_bit_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – start bit ordering id</p></li>
<li><p><strong>start_cluster_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – start cluster id</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>next orbit id, next bit ordering id, next cluster id</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.bases_array">
<em class="property">property </em><code class="sig-name descname">bases_array</code><a class="headerlink" href="#smol.cofe.space.Orbit.bases_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Get bases array.</p>
<p>3D array with all basis arrays. Since each basis array can be of
different dimension the 3D array is the size of the largest array.
Smaller arrays are padded with ones. Doing this allows using numpy
fancy indexing which can be faster than for loops.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.basis_arrays">
<em class="property">property </em><code class="sig-name descname">basis_arrays</code><a class="headerlink" href="#smol.cofe.space.Orbit.basis_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a tuple of all site function arrays for each site in orbit.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.basis_orthogonal">
<em class="property">property </em><code class="sig-name descname">basis_orthogonal</code><a class="headerlink" href="#smol.cofe.space.Orbit.basis_orthogonal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the Orbit bases are orthogonal.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.basis_orthonormal">
<em class="property">property </em><code class="sig-name descname">basis_orthonormal</code><a class="headerlink" href="#smol.cofe.space.Orbit.basis_orthonormal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the orbit bases are orthonormal.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.basis_type">
<em class="property">property </em><code class="sig-name descname">basis_type</code><a class="headerlink" href="#smol.cofe.space.Orbit.basis_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of basis set used.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.bit_combo_array">
<em class="property">property </em><code class="sig-name descname">bit_combo_array</code><a class="headerlink" href="#smol.cofe.space.Orbit.bit_combo_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Single array of all bit combos.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.bit_combo_inds">
<em class="property">property </em><code class="sig-name descname">bit_combo_inds</code><a class="headerlink" href="#smol.cofe.space.Orbit.bit_combo_inds" title="Permalink to this definition">¶</a></dt>
<dd><p>Get indices to symmetrically equivalent bits in bit combo array.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.bit_combo_multiplicities">
<em class="property">property </em><code class="sig-name descname">bit_combo_multiplicities</code><a class="headerlink" href="#smol.cofe.space.Orbit.bit_combo_multiplicities" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the multiplicites of the symmetrically distinct bit ordering.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.bit_combos">
<em class="property">property </em><code class="sig-name descname">bit_combos</code><a class="headerlink" href="#smol.cofe.space.Orbit.bit_combos" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of site bit orderings.</p>
<p>tuple of ndarrays, each array is a set of symmetrically equivalent bit
orderings represented by row. Bit combos represent non-constant site
function orderings.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.cluster_symops">
<em class="property">property </em><code class="sig-name descname">cluster_symops</code><a class="headerlink" href="#smol.cofe.space.Orbit.cluster_symops" title="Permalink to this definition">¶</a></dt>
<dd><p>Get symmetry operations that map a cluster to its periodic image.</p>
<p>Each element is a tuple of (pymatgen.core.operations.Symop, mapping)
where mapping is a tuple such that
Symop.operate(sites) = sites[mapping]
(after translation back to unit cell)</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.clusters">
<em class="property">property </em><code class="sig-name descname">clusters</code><a class="headerlink" href="#smol.cofe.space.Orbit.clusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Get symmetrically equivalent clusters.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.eval">
<code class="sig-name descname">eval</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bits</span></em>, <em class="sig-param"><span class="n">species_encoding</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Orbit.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate a cluster function defined for this orbit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bits</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – list of the cluster bits specifying which site basis function
to evaluate for the corresponding site.</p></li>
<li><p><strong>species_encoding</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – list of lists of species encoding for each site. (index of
species in species bits)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns: orbit function evaluated for the corresponding structure</dt><dd><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Orbit.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Orbit from serialized MSONable dict.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.multiplicity">
<em class="property">property </em><code class="sig-name descname">multiplicity</code><a class="headerlink" href="#smol.cofe.space.Orbit.multiplicity" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of clusters in orbit.</p>
<p>Number of clusters in the given sites of the lattice object that are in
the orbit.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.remove_bit_combo">
<code class="sig-name descname">remove_bit_combo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bits</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Orbit.remove_bit_combo" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove bit_combos from orbit.</p>
<p>Only a single set bits in the bit combo (symmetrically equivalent bit
orderings) needs to be passed.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.remove_bit_combos_by_inds">
<code class="sig-name descname">remove_bit_combos_by_inds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Orbit.remove_bit_combos_by_inds" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove bit combos by their indices in the bit_combo list.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.space.Orbit.transform_site_bases">
<code class="sig-name descname">transform_site_bases</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">basis_name</span></em>, <em class="sig-param"><span class="n">orthonormal</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Orbit.transform_site_bases" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the Orbits site bases to new basis set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>basis_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – name of new basis for all site bases</p></li>
<li><p><strong>orthonormal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – option to orthonormalize all new site bases</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.cofe.space.Vacancy">
<em class="property">class </em><code class="sig-name descname">Vacancy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">symbol</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">'A'</span></em>, <em class="sig-param"><span class="n">oxidation_state</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">properties</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.Vacancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.core.periodic_table.DummySpecie</span></code></p>
<p>Wrapper class around DummySpecie to treat vacancies as their own.</p>
<p>Initialize a Vacancy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – An assigned symbol for the vacancy. Strict
rules are applied to the choice of the symbol. The vacancy
symbol cannot have any part of first two letters that will
constitute an Element symbol. Otherwise, a composition may
be parsed wrongly. E.g., “X” is fine, but “Vac” is not
because Vac contains V, a valid Element.</p></li>
<li><p><strong>oxidation_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – Oxidation state for Vacancy. More like
the charge of a point defect. Defaults to zero.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.basis_factory">
<code class="sig-name descname">basis_factory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">basis_name</span></em>, <em class="sig-param"><span class="n">site_space</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.basis_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a site basis for the given basis name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>basis_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of the basis.</p></li>
<li><p><strong>site_space</strong> (<em>Sequence</em><em> or </em><em>OrderedDict</em>) – Site space over which the basis set is defined.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SiteBasis</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.get_allowed_species">
<code class="sig-name descname">get_allowed_species</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.get_allowed_species" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the allowed species for each site in a disordered structure.</p>
<p>This will get all the allowed species for each site in a pymatgen structure
If the site composition does not add to 1, a Vacancy will be appended to
the allowed species at that site.</p>
<p>Same as in a site space the order of the allowed species at each site is
important because that implicitly represents the code that will be used
when evaluating site basis functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>structure</strong> (<em>Structure</em>) – Structure to determine site spaces from at least some sites should
be disordered, otherwise there is no point in using this.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>of allowed species for each site</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of Specie</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.get_site_spaces">
<code class="sig-name descname">get_site_spaces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em>, <em class="sig-param"><span class="n">include_measure</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.get_site_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Get site spaces for each site in a disordered structure.</p>
<p>Method to obtain the single site spaces for the sites in a structure.
The single site spaces are represented by the allowed species for each site
and the measure/concentration for disordered sites. The order important so
the species need to be sorted, since that implicitly sets the code/index
used to evaluate basis functions.</p>
<p>Vacancies are included in sites where the site element composition does not
sum to 1 (i.e. the total occupation is not 1)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>Structure</em>) – Structure to determine site spaces from at least some sites should
be disordered, otherwise there is no point in using this.</p></li>
<li><p><strong>include_measure</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – optional
If true will take the site compositions as the site space measure,
otherwise a uniform measure is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Allowed species and their corresponding measure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#smol.cofe.space.domain.SiteSpace" title="smol.cofe.space.domain.SiteSpace">SiteSpace</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.space.get_species">
<code class="sig-name descname">get_species</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.space.get_species" title="Permalink to this definition">¶</a></dt>
<dd><p>Get specie object.</p>
<p>Wraps pymatgen.core.periodic_table.get_el_sp. to be able to catch and
return Vacancies when needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>Element/Specie/str/int</em>) – An arbitrary object.  Supported objects
are actual Element/Specie objects, integers (representing atomic
numbers) or strings (element symbols or species strings).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Specie, Element or Vacancy, with a bias for the maximum number of
properties that can be determined.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if obj cannot be converted into an Element</strong><strong> or </strong><strong>Specie.</strong> – </p>
</dd>
</dl>
</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2020, Ceder Group.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>