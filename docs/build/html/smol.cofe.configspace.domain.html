<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>smol.cofe.configspace.domain module &#8212; smol 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/_static/default.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          smol</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="examples.html">Examples</a></li>
                <li><a href="api.html">API</a></li>
                <li><a href="https://github.com/CederGroupHub/smol">GitHub</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">smol.cofe.configspace.domain module</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="module-smol.cofe.configspace.domain">
<span id="smol-cofe-configspace-domain-module"></span><h1>smol.cofe.configspace.domain module<a class="headerlink" href="#module-smol.cofe.configspace.domain" title="Permalink to this headline">¶</a></h1>
<p>Implementation of SiteSpace and functions to get spaces and allowed species.</p>
<p>Implementation functions to generate lists of site spaces and allowed species
for a given disordered strucuture.</p>
<p>A site space is simply made up of the allowed species and their concentrations
including special species such as vacancies. A site spaces makes up the domain
of a site function and many site spaces make up the space of configurations.</p>
<dl class="py class">
<dt id="smol.cofe.configspace.domain.SiteSpace">
<em class="property">class </em><code class="sig-name descname">SiteSpace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">composition</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.configspace.domain.SiteSpace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Hashable</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>Represents a site space.</p>
<p>A site spaces is a set of allowed species at a site and their corresponding
measure (composition in the disordered state).</p>
<p>This class is somewhat similar to pymatgen Composition. However a SiteSpace
must always have a total composition = 1 since vacancies are explititly
included as species. A sorted order of the included species is also kept to
ensure a consistent encoding when creating basis functions. Vacancies are
always the last species. Key errors are raised for species not in space.</p>
<p>Initialize a site space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>composition</strong> (<em>Composition</em>) – Composition object that specifies the site space.</p>
</dd>
</dl>
<dl class="py method">
<dt id="smol.cofe.configspace.domain.SiteSpace.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; dict<a class="headerlink" href="#smol.cofe.configspace.domain.SiteSpace.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get MSONable dict representation.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.configspace.domain.SiteSpace.codes">
<em class="property">property </em><code class="sig-name descname">codes</code><a class="headerlink" href="#smol.cofe.configspace.domain.SiteSpace.codes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return range of species.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.configspace.domain.SiteSpace.composition">
<em class="property">property </em><code class="sig-name descname">composition</code><a class="headerlink" href="#smol.cofe.configspace.domain.SiteSpace.composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the underlying composition.</p>
</dd></dl>

<dl class="py method">
<dt id="smol.cofe.configspace.domain.SiteSpace.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.configspace.domain.SiteSpace.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a SiteSpace from dict representation.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="smol.cofe.configspace.domain.Vacancy">
<em class="property">class </em><code class="sig-name descname">Vacancy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">symbol</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'A'</span></em>, <em class="sig-param"><span class="n">oxidation_state</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">properties</span><span class="p">:</span> <span class="n">dict</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.configspace.domain.Vacancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.core.periodic_table.DummySpecie</span></code></p>
<p>Wrapper class around DummySpecie to treat vacancies as their own.</p>
<p>Initialize a Vacancy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – An assigned symbol for the vacancy. Strict
rules are applied to the choice of the symbol. The vacancy
symbol cannot have any part of first two letters that will
constitute an Element symbol. Otherwise, a composition may
be parsed wrongly. E.g., “X” is fine, but “Vac” is not
because Vac contains V, a valid Element.</p></li>
<li><p><strong>oxidation_state</strong> (<em>float</em>) – Oxidation state for Vacancy. More like
the charge of a point defect. Defaults to zero.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.configspace.domain.get_allowed_species">
<code class="sig-name descname">get_allowed_species</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.configspace.domain.get_allowed_species" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the allowed species for each site in a disordered structure.</p>
<p>This will get all the allowed species for each site in a pymatgen structure
If the site composition does not add to 1, a Vacancy will be appended to
the allowed species at that site.</p>
<p>Same as in a site space the order of the allowed species at each site is
important because that implicitly represents the code that will be used
when evaluating site basis functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>structure</strong> (<em>Structure</em>) – Structure to determine site spaces from at least some sites should
be disordered, otherwise there is no point in using this.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>of allowed species for each site</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of Specie</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.configspace.domain.get_site_spaces">
<code class="sig-name descname">get_site_spaces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">structure</span></em>, <em class="sig-param"><span class="n">include_measure</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.configspace.domain.get_site_spaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Get site spaces for each site in a disordered structure.</p>
<p>Method to obtain the single site spaces for the sites in a structure.
The single site spaces are represented by the allowed species for each site
and the measure/concentration for disordered sites. The order important so
the species need to be sorted, since that implicitly sets the code/index
used to evaluate basis functions.</p>
<p>Vacancies are included in sites where the site element composition does not
sum to 1 (i.e. the total occupation is not 1)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>Structure</em>) – Structure to determine site spaces from at least some sites should
be disordered, otherwise there is no point in using this.</p></li>
<li><p><strong>include_measure</strong> (<em>bool</em>) – optional
If true will take the site compositions as the site space measure,
otherwise a uniform measure is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Allowed species and their corresponding measure.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#smol.cofe.configspace.domain.SiteSpace" title="smol.cofe.configspace.domain.SiteSpace">SiteSpace</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="smol.cofe.configspace.domain.get_specie">
<code class="sig-name descname">get_specie</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#smol.cofe.configspace.domain.get_specie" title="Permalink to this definition">¶</a></dt>
<dd><p>Get specie object.</p>
<p>Wraps pymatgen.core.periodic_table.get_el_sp. to be able to catch and
return Vacancies when needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>Element/Specie/str/int</em>) – An arbitrary object.  Supported objects
are actual Element/Specie objects, integers (representing atomic
numbers) or strings (element symbols or species strings).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Specie, Element or Vacancy, with a bias for the maximum number of
properties that can be determined.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError if obj cannot be converted into an Element</strong><strong> or </strong><strong>Specie.</strong> – </p>
</dd>
</dl>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2020, Ceder Group.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>