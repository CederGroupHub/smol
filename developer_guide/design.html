
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Package Design &#8212; smol 0.0.7 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/smol.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/require.js"></script>
    <script src="../_static/custom.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Contributing &amp; Developing Guidelines" href="guide.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/logo.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../getting_started.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../user_guide.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api_reference/index.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../citing.html">
  Citing
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Developing
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/CederGroupHub/smol/blob/master/CHANGES.md">Changes<i class="fas fa-external-link-alt"></i></a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/CederGroupHub/smol/issues">Issues<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-primary btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        0.0.7  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables developer_guide/design and {'json_url': 'https://pydata-sphinx-theme.readthedocs.io/en/latest/_static/switcher.json', 'url_template': 'https://pydata-sphinx-theme.readthedocs.io/en/v{version}/', 'version_match': '0.0.7'}.
-->

<script type="text/javascript">
// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "developer_guide/design.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://pydata-sphinx-theme.readthedocs.io/en/latest/_static/switcher.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "developer_guide/design.html";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            // Add dataset values for the version and name in case people want
            // to apply CSS styling based on this information.
            node.dataset["versionName"] = entry.name;
            node.dataset["version"] = entry.version;

            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's 0.0.7 variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "0.0.7") {
                node.classList.add("active");
                let btn = document.getElementById("version_switcher_button");
                btn.innerText = btn.dataset["activeVersionName"] = entry.name;
                btn.dataset["activeVersion"] = entry.version;
            }
        });
    });
})();
</script>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/CederGroupHub/smol" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="guide.html">
   Contributing &amp; Developing Guidelines
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Package Design
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overview-mission">
   Overview &amp; Mission
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-design">
   Module Design
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#smol-cofe">
     <code class="xref py py-mod docutils literal notranslate">
      <span class="pre">
       smol.cofe
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#smol-moca">
     <code class="xref py py-mod docutils literal notranslate">
      <span class="pre">
       smol.moca
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                

<div class="tocsection editthispage">
    <a href="https://github.com/CederGroupHub/smol/edit/main/docs/src/developer_guide/design.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="package-design">
<span id="design"></span><h1>Package Design<a class="headerlink" href="#package-design" title="Permalink to this headline">#</a></h1>
<section id="overview-mission">
<h2>Overview &amp; Mission<a class="headerlink" href="#overview-mission" title="Permalink to this headline">#</a></h2>
<p><strong>smol</strong> is intentionally designed to be easy to use, install and extend. In order to
achieve these goals the package has few dependencies <a class="footnote-reference brackets" href="#f1" id="id1">1</a>, and has a heavily
object-oriented and modular design that closely follows mathematical and methodological
abstractions. This enables flexible creation of complex workflows and hassle-free
implementation methodology extensions, that will rarely need to be implemented from
scratch.</p>
<p>Inheritance, polymorphism and composition are key OOP design concepts in <strong>smol</strong> that
result in a modular design, This <em>hopefully</em> allows to design complex calculation
workflows and implement new functionality without having to implement new classes and
functions from scratch.</p>
<p><strong>smol</strong> has been designed to enable efficient and open development of new methodology
for fitting and sampling applied lattice models in a user-friendly way; and as a result
allow quick development-to-application turnaround time in the study of configuration
dependent properties of inorganic materials.</p>
</section>
<section id="module-design">
<h2>Module Design<a class="headerlink" href="#module-design" title="Permalink to this headline">#</a></h2>
<p><strong>smol</strong> is organized into two main submodules, <code class="xref py py-mod docutils literal notranslate"><span class="pre">smol.cofe</span></code> and
<code class="xref py py-mod docutils literal notranslate"><span class="pre">smol.moca</span></code>:</p>
<ul class="simple">
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">smol.cofe</span></code> implements the classes and functions to represent
site spaces, configuration spaces and function subspaces over them, and the tools
necessary to fit lattice models, in the spirit of <em>cluster expansions</em> and the
<em>structure inversion method</em>.</p></li>
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">smol.moca</span></code> has implementations of classes to carry out Monte Carlo sampling of
ensembles associated with a fitted lattice model Hamiltonian, as well as simple
empirical models such as a point Coulomb potential.</p></li>
</ul>
<p>Below is a detailed description of the classes and their relationships in the main
modules. Before delving into these we recommend going over the simpler overview of the
package in the <a class="reference internal" href="../user_guide.html#user-guide"><span class="std std-ref">User Guide</span></a> page.</p>
<p>Diagrams showing the main objects and their relationships for the <code class="xref py py-mod docutils literal notranslate"><span class="pre">smol.cofe</span></code> and
<code class="xref py py-mod docutils literal notranslate"><span class="pre">smol.moca</span></code> are presented below. In these diagrams base classes are depicted in
filled (and unboxed) rectangles, derived classes are depited in boxed rectangles with
an colored arrow pointing from the base class to the derived classes.</p>
<p>Ownership relationships between distinct classes (i.e. when a class has another class
as an attribute) are depicted as dark blue colored arrows. The arrow points from the
class which is an attribute to the class that holds the former as an attributed.</p>
<section id="smol-cofe">
<h3><code class="xref py py-mod docutils literal notranslate"><span class="pre">smol.cofe</span></code><a class="headerlink" href="#smol-cofe" title="Permalink to this headline">#</a></h3>
<p>The diagram below summarizes the overall design of the <code class="xref py py-mod docutils literal notranslate"><span class="pre">smol.cofe</span></code> module. The main
classes that users directly instantiate and interact with are the
<code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">StructureWrangler</span></code>, and <code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterExpansion</span></code> as
detailed in the <a class="reference internal" href="../user_guide.html#user-guide"><span class="std std-ref">User Guide</span></a>. All main classes are derived from <code class="xref py py-mod docutils literal notranslate"><span class="pre">monty</span></code>
<code class="xref py py-class docutils literal notranslate"><span class="pre">MSONable</span></code> and thus can be serialized and saved as JSON objects.
In addition, several other classes are defined to enable the various features and
functionality in the module.</p>
<img alt="../_images/smol_cofe.svg" src="../_images/smol_cofe.svg" /><p>Following the diagram above, the main purpose of the classes depicted is,</p>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code> (and its derived class <code class="xref py py-class docutils literal notranslate"><span class="pre">PottsSubspace</span></code>) is the main
work horse to construct and represent configuration spaces and the function spaces
over them. Its main purpose is to compute <em>correlation function</em> values given an
ordered structure. In order to do so, it holds a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">Orbit</span></code> objects
generated for a particular disordered <code class="xref py py-mod docutils literal notranslate"><span class="pre">pymatgen</span></code> <code class="xref py py-class docutils literal notranslate"><span class="pre">Structure</span></code>. Additionally
an <em>external term</em> representing a simple empricial potential model can also be
included. Currently only an <code class="xref py py-class docutils literal notranslate"><span class="pre">EwaldTerm</span></code>, to represent a point electrostatic
potential is available.</p>
<ul>
<li><p>An <code class="xref py py-class docutils literal notranslate"><span class="pre">Orbit</span></code> represents both the set of symmetrically equivalent clusters, as
well as the set of <em>product functions</em> that act over the configurations of those
clusters. An orbit holds a base <code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code> and a list of <span class="xref std std-ref">SiteBasis</span>
associated with each site in the cluster.</p>
<ul>
<li><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code> is a collection of sites (derived from <code class="xref py py-class docutils literal notranslate"><span class="pre">SiteCollection</span></code>
in <code class="xref py py-mod docutils literal notranslate"><span class="pre">pymatgen</span></code>). The two key concepts of a <code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code> is that compared
to a <code class="xref py py-class docutils literal notranslate"><span class="pre">Structure</span></code> they do hold periodic sites, and compared to a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code> the hold a lattice (of the structure they are associated with).</p></li>
<li><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">SiteBasis</span></code> represents the basis set that spans the function space of
the configurations for a single site. Several types of basis sets are included
and implementing new ones is relatively straighforward. A <code class="xref py py-class docutils literal notranslate"><span class="pre">SiteBasis</span></code> holds
a <code class="xref py py-class docutils literal notranslate"><span class="pre">SiteSpace</span></code> which represents its single site configuration space.</p>
<ul>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">SiteSpace</span></code> represents the possible configurations of a given site.
It essentially holds a <code class="xref py py-mod docutils literal notranslate"><span class="pre">pymatgen</span></code> <code class="xref py py-class docutils literal notranslate"><span class="pre">Composition</span></code>, with the addition
of an explicit <code class="xref py py-class docutils literal notranslate"><span class="pre">Vacancy</span></code> species, for compositions that do not sum to 1.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>An external term, representing a simple empirical pair potential can also be
included in a <code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code> to create a mixture model (i.e. a Cluster
expansion + an empirical potential). Currently an <code class="xref py py-class docutils literal notranslate"><span class="pre">EwaldTerm</span></code> is implemented
to allow mixture models of cluster expansions with explicit electrostatics.</p></li>
</ul>
</li>
<li><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">StructureWrangler</span></code> is the main object for training data preparation.
Training data is held as a list of <code class="xref py py-mod docutils literal notranslate"><span class="pre">pymatgen</span></code> <code class="xref py py-class docutils literal notranslate"><span class="pre">ComputedStructureEntry</span></code>. The
<code class="xref py py-class docutils literal notranslate"><span class="pre">StructureWrangler</span></code> holds a given <code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code>, and takes care of
making sure training structures can be correctly mapped to the disordered unit
structure of the <code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code>. The corresponding correlation vectors of
the training structures that can be correctly mapped are computed to form the
correlation matrix (feature matrix) necessary for training. In addition, the
<code class="xref py py-class docutils literal notranslate"><span class="pre">StructureWrangler</span></code> has several methods that allow to inspect and further
prepare training data, such as checking for duplicates, obtaining correlation matrix
properties, and most importantly obtaining a properly normalized property vector for
training (the normalization is done per the disordered unit cell from the
<code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code> ).</p></li>
<li><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterExpansion</span></code> represent the final <em>fitted</em> lattice model. It holds
a <code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code>, and a corresponding set of fitted coefficients. A
<code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code> can be used to predict the energy of new structures, as well
as obtain the <em>effectice cluster interactions</em> (ECI), and prune unimportant terms.</p></li>
</ul>
</section>
<section id="smol-moca">
<h3><code class="xref py py-mod docutils literal notranslate"><span class="pre">smol.moca</span></code><a class="headerlink" href="#smol-moca" title="Permalink to this headline">#</a></h3>
<p>A diagram showing the overall design of the <code class="xref py py-mod docutils literal notranslate"><span class="pre">smol.moca</span></code> module. The
main classes in this module that are necessary to run Monte Carlo sampling using
a <code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterExpansion</span></code> are the <code class="xref py py-class docutils literal notranslate"><span class="pre">Processor</span></code> classes, the <code class="xref py py-class docutils literal notranslate"><span class="pre">Ensemble</span></code>,
and the <code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code> class. However, a number of helper classes are implemented
to allow running and implenting a large variety of types of MC calculations.</p>
<img alt="../_images/smol_moca.svg" src="../_images/smol_moca.svg" /><p>The class descriptions are as follows,</p>
<ul class="simple">
<li><p>An <code class="xref py py-class docutils literal notranslate"><span class="pre">Ensemble</span></code> represents the probability space associated with a particular
lattice model and thermodynamic boundary conditions (i.e. <code class="xref py py-attr docutils literal notranslate"><span class="pre">chemical_potentials</span></code>)
over a finite simulation domain size, which is represented by a supercell matrix of
an associated unit cell. An <code class="xref py py-class docutils literal notranslate"><span class="pre">Ensemble</span></code> holds a <code class="xref py py-class docutils literal notranslate"><span class="pre">Processor</span></code> and a list
of <code class="xref py py-class docutils literal notranslate"><span class="pre">Sublattice</span></code> instances.</p>
<ul>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Sublattice</span></code> represents the set of sites of the defined supercell that are
have the same site space (set of allowed species). <code class="xref py py-class docutils literal notranslate"><span class="pre">Sublattice</span></code> instances
can also be split according to a particular <em>frozen</em> configuration.</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Processor</span></code> instances, hold a <code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterSubspace</span></code> and represent a
particular sampling domain in the form of a supercell matrix (of the corresponding
disordered unit cell). A <code class="xref py py-class docutils literal notranslate"><span class="pre">Processor</span></code> allows to quickly and efficiently
calculate the fitted property and differences from local updates for a given
configuration (over the represented supercell). A <code class="xref py py-class docutils literal notranslate"><span class="pre">Processor</span></code> can also
generate occupancy strings given an ordered supercell structure, as well as
generate the <code class="xref py py-class docutils literal notranslate"><span class="pre">Sublattice</span></code> instances for the different sites in the
supercell domain.</p></li>
</ul>
</li>
<li><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code> is the main class to run MC sampling given a particular
<code class="xref py py-class docutils literal notranslate"><span class="pre">Ensemble</span></code> instance. Apart from the ensemble to be sampled, a <code class="xref py py-class docutils literal notranslate"><span class="pre">Sampler</span></code>
holds the an <code class="xref py py-class docutils literal notranslate"><span class="pre">MCKernel</span></code> that implements the particular sampling algorithm, and
a <code class="xref py py-class docutils literal notranslate"><span class="pre">SampleContainer</span></code> to record the sampled configurations, correlation vectors,
enthalpy, and any other associated state variable.</p>
<ul>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">MCKernel</span></code> are implementations of particular MC algorithms, such as the
<code class="xref py py-class docutils literal notranslate"><span class="pre">Metropolis</span></code> kernel. They take care of generating the Markov chain, sampling
histograms, and any other configuration and state attribute. The include an
<code class="xref py py-class docutils literal notranslate"><span class="pre">MCUsher</span></code> to propose steps, and may also include an optional <code class="xref py py-class docutils literal notranslate"><span class="pre">MCBias</span></code>
to bias samples to particular configurations in phase space.</p>
<ul>
<li><p>An <code class="xref py py-class docutils literal notranslate"><span class="pre">MCUsher</span></code> has the purpose of proposing the steps to carry out the
random walk for an MC calculation. The simplest are a <code class="xref py py-class docutils literal notranslate"><span class="pre">Flip</span></code> for single
site species changes, and a <code class="xref py py-class docutils literal notranslate"><span class="pre">Swap</span></code> for swapping the species at two sites.
However implementing new <code class="xref py py-class docutils literal notranslate"><span class="pre">MCUsher</span></code> for more complex random walks should
be relatively straightforward.</p></li>
<li><p>An <code class="xref py py-class docutils literal notranslate"><span class="pre">MCBias</span></code> serves as an additional term that can be included to bias
acceptance probabilities in order to carry out sampling from <em>extended</em> or
<em>biased</em> ensembles.</p></li>
</ul>
</li>
<li><p>MC samples are saved in a <code class="xref py py-class docutils literal notranslate"><span class="pre">SamplerContainer</span></code> from sampled <code class="xref py py-class docutils literal notranslate"><span class="pre">Trace</span></code>
objects. These will always include the configurations, correlations or features,
and the energy or enthalpy. Additional values depending on the particular
<code class="xref py py-class docutils literal notranslate"><span class="pre">MCKernel</span></code> used are also saved. A <code class="xref py py-class docutils literal notranslate"><span class="pre">SampleContainer</span></code> has functionality
to obtain simple mean and variances of sampled values. In addition, a
<code class="xref py py-class docutils literal notranslate"><span class="pre">SampleContainer</span></code> can be saved as either a json file or an hdf5 container.
During lengthy simulations, samples can be streamed into an hdf5 container to
minimize memory requirements; further, using hdf5 containers in
<a class="reference external" href="https://docs.h5py.org/en/stable/swmr.html">single writer multiple reader</a> mode
allows users to begin looking at samples before a simulation has concluded.</p></li>
</ul>
</li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The dependence on <strong>pymatgen</strong> implicitly includes all of its dependecies—
which are many. However, once <strong>pymatgen</strong> is properly installed, then
installing <strong>smol</strong> should be headache free.</p>
</dd>
</dl>
</section>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="guide.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Contributing &amp; Developing Guidelines</p>
        </div>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022-2022, Ceder Group.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>