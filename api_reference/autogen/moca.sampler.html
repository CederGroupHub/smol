
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>moca.sampler package &#8212; smol 0.0.1 documentation</title>
    
    <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/pydata-sphinx-theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/smol.css" />
    
    <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/logo.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting_started.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../user_guide.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../index.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../citing.html">
  Citing
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../developer_guide/index.html">
  Developing
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/CederGroupHub/smol/blob/master/CHANGES.md">Changes<i class="fas fa-external-link-alt"></i></a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/CederGroupHub/smol/issues">Issues<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-primary btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        0.0.1  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables api_reference/autogen/moca.sampler and {'json_url': 'https://pydata-sphinx-theme.readthedocs.io/en/latest/_static/switcher.json', 'url_template': 'https://pydata-sphinx-theme.readthedocs.io/en/v{version}/', 'version_match': '0.0.1'}.
-->

<script type="text/javascript">
// Construct the target URL from the JSON components
function buildURL(entry) {
    var template = "https://pydata-sphinx-theme.readthedocs.io/en/v{version}/";  // supplied by jinja
    template = template.replace("{version}", entry.version);
    return template;
}

// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "api_reference/autogen/moca.sampler.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://pydata-sphinx-theme.readthedocs.io/en/latest/_static/switcher.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "api_reference/autogen/moca.sampler.html";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            // get the base URL for that doc version, add the current page's
            // path to it, and set as `href`
            entry.url = buildURL(entry);
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's 0.0.1 variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "0.0.1") {
                node.classList.add("active");
                $("#version_switcher_button").text(entry.name);
            }
        });
    });
})();
</script>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/CederGroupHub/smol" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="moca.ensemble.html">
   moca.ensemble package
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="moca.processor.html">
   moca.processor package
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   moca.sampler package
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#submodules">
   Submodules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-moca.sampler.bias">
   moca.sampler.bias module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-moca.sampler.container">
   moca.sampler.container module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-moca.sampler.kernel">
   moca.sampler.kernel module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-moca.sampler.mcusher">
   moca.sampler.mcusher module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-moca.sampler.sampler">
   moca.sampler.sampler module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-moca.sampler">
   Module contents
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                

<div class="tocsection editthispage">
    <a href="https://github.com/CederGroupHub/smol/edit/main/docs/src/api_reference/autogen/moca.sampler.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="moca-sampler-package">
<h1>moca.sampler package<a class="headerlink" href="#moca-sampler-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-moca.sampler.bias">
<span id="moca-sampler-bias-module"></span><h2>moca.sampler.bias module<a class="headerlink" href="#module-moca.sampler.bias" title="Permalink to this headline">¶</a></h2>
<p>Bias term definitions for biased sampling techniques.</p>
<p>Bias terms can be added to an MCKernel in order to generate samples that are
biased accordingly.</p>
<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.bias.FugacityBias">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FugacityBias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fugacity_fractions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.bias.FugacityBias" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#moca.sampler.bias.MCBias" title="moca.sampler.bias.MCBias"><code class="xref py py-class docutils literal notranslate"><span class="pre">moca.sampler.bias.MCBias</span></code></a></p>
<p>Fugacity fraction bias.</p>
<p>This bias corresponds directly to using a composition bias. Using this
with a CanonicalEnsemble keeps fugacity fractions constant, which
implicitly sets the chemical potentials, albeit for a specific temperature.
Since one species per sublattice is the reference species, to calculate
actual fugacities, the reference fugacity must be computed as an ensemble
average and all other fugacities can then be calculated.
From the fugacities and the set temperature, the corresponding chemical
potentials can then be calculated.</p>
<p>Initialize fugacity ratio bias.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sublattices</strong> (<em>List</em><em>[</em><a class="reference internal" href="moca.html#moca.sublattice.Sublattice" title="moca.sublattice.Sublattice"><em>Sublattice</em></a><em>]</em>) – list of active sublattices, containing species information and
site indices in sublattice.</p></li>
<li><p><strong>fugacity_fractions</strong> (<em>sequence of dicts</em>) – optional
Dictionary of species name and fugacity fraction for each
sublattice (.i.e think of it as the sublattice concentrations
for random structure). If not given this will be taken from the
prim structure used in the cluster subspace. Needs to be in
the same order as the corresponding sublattice.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.bias.FugacityBias.compute_bias">
<span class="sig-name descname"><span class="pre">compute_bias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.bias.FugacityBias.compute_bias" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute bias from occupancy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>np.ndarray</em>) – Encoded occupancy string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Float, bias value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.bias.FugacityBias.compute_bias_change">
<span class="sig-name descname"><span class="pre">compute_bias_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.bias.FugacityBias.compute_bias_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute bias change from step.</p>
<p>The returned value needs to be the difference of bias logs,
log(bias_f) - log(bias_i), when the bias terms would directly multiply
the ensemble probability (i.e. exp(-beta * E) * bias).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> – (ndarray):
encoded occupancy array.</p></li>
<li><p><strong>step</strong> – (List[tuple(int,int)]):
step returned by MCUsher.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>float, change of bias value after step.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.bias.FugacityBias.fugacity_fractions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fugacity_fractions</span></span><a class="headerlink" href="#moca.sampler.bias.FugacityBias.fugacity_fractions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the fugacity fractions for species on active sublatts.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.bias.MCBias">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MCBias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattices</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.bias.MCBias" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Base bias term class.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.bias.MCBias.sublattices">
<span class="sig-name descname"><span class="pre">sublattices</span></span><a class="headerlink" href="#moca.sampler.bias.MCBias.sublattices" title="Permalink to this definition">¶</a></dt>
<dd><p>list of sublattices with active sites.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="moca.html#moca.sublattice.Sublattice" title="moca.sublattice.Sublattice">Sublattice</a>]</p>
</dd>
</dl>
</dd></dl>

<p>Initialize MCBias.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sublattices</strong> (<em>List</em><em>[</em><a class="reference internal" href="moca.html#moca.sublattice.Sublattice" title="moca.sublattice.Sublattice"><em>Sublattice</em></a><em>]</em>) – list of active sublattices, containing species information and
site indices in sublattice.</p></li>
<li><p><strong>args</strong> – Additional arguments buffer.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments buffer.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.bias.MCBias.compute_bias">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">compute_bias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.bias.MCBias.compute_bias" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute bias from occupancy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>np.ndarray</em>) – encoded occupancy string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Float, bias value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.bias.MCBias.compute_bias_change">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">compute_bias_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.bias.MCBias.compute_bias_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute bias change from step.</p>
<p>The returned value needs to be the difference of bias logs,
log(bias_f) - log(bias_i), when the bias terms would directly multiply
the ensemble probability (i.e. exp(-beta * E) * bias).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>occupancy</strong> – (ndarray):
encoded occupancy array.</p></li>
<li><p><strong>step</strong> – (List[tuple(int,int)]):
step returned by MCUsher.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Float, change of bias value after step.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="moca.sampler.bias.mcbias_factory">
<span class="sig-name descname"><span class="pre">mcbias_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bias_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sublattices</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.bias.mcbias_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a MCMC bias from string name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bias_type</strong> (<em>str</em>) – string specifying bias name to instantiate.</p></li>
<li><p><strong>sublattices</strong> (<em>List</em><em>[</em><a class="reference internal" href="moca.html#moca.sublattice.Sublattice" title="moca.sublattice.Sublattice"><em>Sublattice</em></a><em>]</em>) – list of active sublattices, containing species information and
site indices in sublattice.</p></li>
<li><p><strong>*args</strong> – positional args to instatiate a bias term.</p></li>
<li><p><strong>*kwargs</strong> – keyword argument to instantiate a bias term.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-moca.sampler.container">
<span id="moca-sampler-container-module"></span><h2>moca.sampler.container module<a class="headerlink" href="#module-moca.sampler.container" title="Permalink to this headline">¶</a></h2>
<p>Implementation of SampleContainer class.</p>
<p>A SampleContainer is used to store data from Monte Carlo sampling simulation.
It has some minimimal methods and properties useful to start analyzing the
samples.</p>
<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SampleContainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">natural_parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_energy_coefs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_trace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>A SampleContainer class stores Monte Carlo simulation samples.</p>
<p>A SampleContainer holds samples and sampling information from an MCMC
sampling run. It is useful to obtain the raw data and minimal empirical
properties of the underlying distribution in order to carry out further
analysis of the MCMC sampling results.</p>
<p>When getting any value from the provided attributes, the highly repeated
args are:</p>
<blockquote>
<div><dl class="simple">
<dt>discard (int): optional</dt><dd><p>number of samples to discard to obtain the value requested.</p>
</dd>
<dt>thin_by (int): optional</dt><dd><p>use every thin_by sample to obtain the value requested.</p>
</dd>
<dt>flat (bool): optional</dt><dd><p>if more than 1 walker is used, flattening will flatten all
chains into one. Defaults to True.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.num_sites">
<span class="sig-name descname"><span class="pre">num_sites</span></span><a class="headerlink" href="#moca.sampler.container.SampleContainer.num_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of system (usually in number of prims in supercell, but
can be anything representative, i.e. number of sites)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.sublattices">
<span class="sig-name descname"><span class="pre">sublattices</span></span><a class="headerlink" href="#moca.sampler.container.SampleContainer.sublattices" title="Permalink to this definition">¶</a></dt>
<dd><p>Sublattices of the ensemble sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of Sublattice</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.natural_parameters">
<span class="sig-name descname"><span class="pre">natural_parameters</span></span><a class="headerlink" href="#moca.sampler.container.SampleContainer.natural_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of natural parameters used in the ensemble.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><a class="headerlink" href="#moca.sampler.container.SampleContainer.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of metadata from the MC run that generated the samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<p>Initialize a sample container.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sublattices</strong> (<em>list of Sublattice</em>) – Sublattices of the ensemble sampled.</p></li>
<li><p><strong>natural_parameters</strong> (<em>ndarray</em>) – array of natural parameters used in the ensemble.</p></li>
<li><p><strong>num_energy_coefs</strong> (<em>int</em>) – the number of coefficients in the natural parameters that
correspond to the energy only.</p></li>
<li><p><strong>sample_trace</strong> (<a class="reference internal" href="#moca.sampler.kernel.Trace" title="moca.sampler.kernel.Trace"><em>Trace</em></a>) – a trace object for the traced values during MC sampling</p></li>
<li><p><strong>sampling_metadata</strong> (<a class="reference internal" href="moca.ensemble.html#moca.ensemble.base.Ensemble" title="moca.ensemble.base.Ensemble"><em>Ensemble</em></a>) – sampling metadata (i.e. ensemble name, mckernel type, etc)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.allocate">
<span class="sig-name descname"><span class="pre">allocate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate more space in arrays for more samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear all samples from container.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.composition_variance">
<span class="sig-name descname"><span class="pre">composition_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.composition_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the variance in composition of all species.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.energy_variance">
<span class="sig-name descname"><span class="pre">energy_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.energy_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the variance of sampled energies.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.enthalpy_variance">
<span class="sig-name descname"><span class="pre">enthalpy_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.enthalpy_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the variance in enthalpy.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.feature_vector_variance">
<span class="sig-name descname"><span class="pre">feature_vector_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.feature_vector_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the variance of feature vector elements.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.flush_to_backend">
<span class="sig-name descname"><span class="pre">flush_to_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.flush_to_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush current samples and trace to backend file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>backend</strong> (<em>object</em>) – backend file object, currently only hdf5 supported.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a SampleContainer from dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) – dictionary representation.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Sublattice</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.from_hdf5">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">swmr_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.from_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a SampleContainer from an hdf5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – path to file</p></li>
<li><p><strong>swmr_mode</strong> (<em>bool</em>) – optional
If true allows to read file from other processes. Single Writer
Multiple Readers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SampleContainer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_backend">
<span class="sig-name descname"><span class="pre">get_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alloc_nsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">swmr_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a backend file object.</p>
<p>Currently only hdf5 files supported</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – path to backend file.</p></li>
<li><p><strong>alloc_nsamples</strong> (<em>int</em>) – optional
number of new samples to allocate. Will only extend datasets
if number given is larger than space left to write samples
into.</p></li>
<li><p><strong>swmr_mode</strong> (<em>bool</em>) – optional
If true allows to read file from other processes. Single Writer
Multiple Readers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>h5.File object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_compositions">
<span class="sig-name descname"><span class="pre">get_compositions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_compositions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the compositions for each occupancy in the chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_energies">
<span class="sig-name descname"><span class="pre">get_energies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_energies" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the energies from samples in chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_enthalpies">
<span class="sig-name descname"><span class="pre">get_enthalpies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_enthalpies" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the generalized enthalpy changes from samples in chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_feature_vectors">
<span class="sig-name descname"><span class="pre">get_feature_vectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_feature_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the feature vector changes from samples in chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_minimum_energy">
<span class="sig-name descname"><span class="pre">get_minimum_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_minimum_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the minimum energy from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_minimum_energy_occupancy">
<span class="sig-name descname"><span class="pre">get_minimum_energy_occupancy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_minimum_energy_occupancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the occupancy with minimum energy from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_minimum_enthalpy">
<span class="sig-name descname"><span class="pre">get_minimum_enthalpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_minimum_enthalpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the minimum energy from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_minimum_enthalpy_occupancy">
<span class="sig-name descname"><span class="pre">get_minimum_enthalpy_occupancy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_minimum_enthalpy_occupancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the occupancy with minimum energy from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_occupancies">
<span class="sig-name descname"><span class="pre">get_occupancies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_occupancies" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the occupancy chain of the samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_species_counts">
<span class="sig-name descname"><span class="pre">get_species_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_species_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the species counts for each occupancy in the chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_sublattice_compositions">
<span class="sig-name descname"><span class="pre">get_sublattice_compositions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_sublattice_compositions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the compositions of a specific sublattice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_sublattice_species_counts">
<span class="sig-name descname"><span class="pre">get_sublattice_species_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_sublattice_species_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the counts of each species in a sublattices.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>where last axis is the count for each species in the
same order as the underlying site space.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.get_trace_value">
<span class="sig-name descname"><span class="pre">get_trace_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.get_trace_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Get sampled values of a traced value given by name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.mean_composition">
<span class="sig-name descname"><span class="pre">mean_composition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.mean_composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Get mean composition for all species regardless of sublattice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.mean_energy">
<span class="sig-name descname"><span class="pre">mean_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.mean_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the mean energy from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.mean_enthalpy">
<span class="sig-name descname"><span class="pre">mean_enthalpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.mean_enthalpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mean generalized enthalpy.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.mean_feature_vector">
<span class="sig-name descname"><span class="pre">mean_feature_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.mean_feature_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mean feature vector from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.mean_sublattice_composition">
<span class="sig-name descname"><span class="pre">mean_sublattice_composition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.mean_sublattice_composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mean composition of a specific sublattice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.mean_trace_value">
<span class="sig-name descname"><span class="pre">mean_trace_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.mean_trace_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Get mean of a traced value given by name.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.num_samples">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_samples</span></span><a class="headerlink" href="#moca.sampler.container.SampleContainer.num_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total number of samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.sampling_efficiency">
<span class="sig-name descname"><span class="pre">sampling_efficiency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.sampling_efficiency" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sampling efficiency for chains.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.save_sampled_trace">
<span class="sig-name descname"><span class="pre">save_sampled_trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thinned_by</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.save_sampled_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a sampled trace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trace</strong> (<a class="reference internal" href="#moca.sampler.kernel.Trace" title="moca.sampler.kernel.Trace"><em>Trace</em></a>) – Trace of sampled values</p></li>
<li><p><strong>thinned_by</strong> (<em>int</em>) – the amount that the sampling was thinned by. Used to update
the total mc iterations.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#moca.sampler.container.SampleContainer.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the shape of the samples in chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.sublattice_composition_variance">
<span class="sig-name descname"><span class="pre">sublattice_composition_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.sublattice_composition_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the variance in composition of a specific sublattice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.to_hdf5">
<span class="sig-name descname"><span class="pre">to_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.to_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Save SampleContainer as an HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>) – path to file save location. If file exists and dimensions
match samples will be appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.total_mc_steps">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">total_mc_steps</span></span><a class="headerlink" href="#moca.sampler.container.SampleContainer.total_mc_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total number of MC steps taken during sampling.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.trace_value_variance">
<span class="sig-name descname"><span class="pre">trace_value_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.container.SampleContainer.trace_value_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get variance of a traced value given by name.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.container.SampleContainer.traced_values">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">traced_values</span></span><a class="headerlink" href="#moca.sampler.container.SampleContainer.traced_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the names of traced values being sampled.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-moca.sampler.kernel">
<span id="moca-sampler-kernel-module"></span><h2>moca.sampler.kernel module<a class="headerlink" href="#module-moca.sampler.kernel" title="Permalink to this headline">¶</a></h2>
<p>Implementation of MCMC transition kernel classes.</p>
<p>A kernel essentially is an implementation of the MCMC algorithm that is used
to generate states for sampling an MCMC chain.</p>
<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.kernel.MCKernel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MCKernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ensemble</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_type</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.MCKernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Abtract base class for transition kernels.</p>
<p>A kernel is used to implement a specific MC algorithm used to sample
the ensemble classes. For an illustrative example of how to derive from this
and write a specific kernel see the Metropolis kernel.</p>
<p>Initialize MCKernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ensemble</strong> (<a class="reference internal" href="moca.ensemble.html#moca.ensemble.base.Ensemble" title="moca.ensemble.base.Ensemble"><em>Ensemble</em></a>) – an Ensemble instance to obtain the features and parameters
used in computing log probabilities.</p></li>
<li><p><strong>step_type</strong> (<em>str</em>) – string specifying the MCMC step type.</p></li>
<li><p><strong>bias</strong> (<a class="reference internal" href="#moca.sampler.bias.MCBias" title="moca.sampler.bias.MCBias"><em>MCBias</em></a>) – a bias instance.</p></li>
<li><p><strong>bias_kwargs</strong> (<em>dict</em>) – dictionary of keyword arguments to pass to the bias
constructor.</p></li>
<li><p><strong>args</strong> – positional arguments to instantiate the MCUsher for the
corresponding step size.</p></li>
<li><p><strong>kwargs</strong> – keyword arguments to instantiate the MCUsher for the
corresponding step size.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.kernel.MCKernel.bias">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bias</span></span><a class="headerlink" href="#moca.sampler.kernel.MCKernel.bias" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the bias.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.kernel.MCKernel.compute_initial_trace">
<span class="sig-name descname"><span class="pre">compute_initial_trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.MCKernel.compute_initial_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute inital values for sample trace given an occupancy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – Initial occupancy</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Trace</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.kernel.MCKernel.mcusher">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mcusher</span></span><a class="headerlink" href="#moca.sampler.kernel.MCKernel.mcusher" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the MCUsher.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.kernel.MCKernel.set_aux_state">
<span class="sig-name descname"><span class="pre">set_aux_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.MCKernel.set_aux_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the auxiliary state from initial or checkpoint values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.kernel.MCKernel.single_step">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">single_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.MCKernel.single_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt an MCMC step.</p>
<p>Returns the next state in the chain and if the attempted step was
successful.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>a step trace for states and traced values for a single</dt><dd><p>step</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#moca.sampler.kernel.StepTrace" title="moca.sampler.kernel.StepTrace">StepTrace</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.kernel.MCKernel.valid_bias">
<span class="sig-name descname"><span class="pre">valid_bias</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#moca.sampler.kernel.MCKernel.valid_bias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.kernel.MCKernel.valid_mcushers">
<span class="sig-name descname"><span class="pre">valid_mcushers</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#moca.sampler.kernel.MCKernel.valid_mcushers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.kernel.Metropolis">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Metropolis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ensemble</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.Metropolis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#moca.sampler.kernel.ThermalKernel" title="moca.sampler.kernel.ThermalKernel"><code class="xref py py-class docutils literal notranslate"><span class="pre">moca.sampler.kernel.ThermalKernel</span></code></a></p>
<p>A Metropolis-Hastings kernel.</p>
<p>The classic and nothing but the classic.</p>
<p>Initialize ThermalKernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ensemble</strong> (<a class="reference internal" href="moca.ensemble.html#moca.ensemble.base.Ensemble" title="moca.ensemble.base.Ensemble"><em>Ensemble</em></a>) – an Ensemble instance to obtain the features and parameters
used in computing log probabilities.</p></li>
<li><p><strong>step_type</strong> (<em>str</em>) – string specifying the MCMC step type.</p></li>
<li><p><strong>temperature</strong> (<em>float</em>) – temperature at which the MCMC sampling will be carried out.</p></li>
<li><p><strong>args</strong> – positional arguments to instantiate the MCUsher for the
corresponding step size.</p></li>
<li><p><strong>kwargs</strong> – keyword arguments to instantiate the MCUsher for the
corresponding step size.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.kernel.Metropolis.single_step">
<span class="sig-name descname"><span class="pre">single_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.Metropolis.single_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt an MC step.</p>
<p>Returns the next state in the chain and if the attempted step was
successful.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>StepTrace</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.kernel.Metropolis.valid_bias">
<span class="sig-name descname"><span class="pre">valid_bias</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['FugacityBias']</span></em><a class="headerlink" href="#moca.sampler.kernel.Metropolis.valid_bias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.kernel.Metropolis.valid_mcushers">
<span class="sig-name descname"><span class="pre">valid_mcushers</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['Flip',</span> <span class="pre">'Swap']</span></em><a class="headerlink" href="#moca.sampler.kernel.Metropolis.valid_mcushers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.kernel.StepTrace">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StepTrace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.StepTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#moca.sampler.kernel.Trace" title="moca.sampler.kernel.Trace"><code class="xref py py-class docutils literal notranslate"><span class="pre">moca.sampler.kernel.Trace</span></code></a></p>
<p>StepTrace class.</p>
<p>Same as Trace above but holds a default “delta_trace” inner trace to hold
trace values that represent changes from previous values, to be handled
similarly to delta_features and delta_energy.</p>
<p>A StepTrace object is set as an MCKernel’s attribute to record
kernel specific values during sampling.</p>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.kernel.StepTrace.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.StepTrace.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return copy of serializable dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.kernel.StepTrace.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.StepTrace.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Return generator for (name, attribute). Skips delta_trace.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.kernel.StepTrace.names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">names</span></span><a class="headerlink" href="#moca.sampler.kernel.StepTrace.names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all field names. Removes delta_trace from field names.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.kernel.ThermalKernel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ThermalKernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ensemble</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.ThermalKernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#moca.sampler.kernel.MCKernel" title="moca.sampler.kernel.MCKernel"><code class="xref py py-class docutils literal notranslate"><span class="pre">moca.sampler.kernel.MCKernel</span></code></a></p>
<p>Abtract base class for transition kernels with a set temperature.</p>
<p>Basically all kernels should derive from this with the exception of those
for multicanonical sampling and related methods</p>
<p>Initialize ThermalKernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ensemble</strong> (<a class="reference internal" href="moca.ensemble.html#moca.ensemble.base.Ensemble" title="moca.ensemble.base.Ensemble"><em>Ensemble</em></a>) – an Ensemble instance to obtain the features and parameters
used in computing log probabilities.</p></li>
<li><p><strong>step_type</strong> (<em>str</em>) – string specifying the MCMC step type.</p></li>
<li><p><strong>temperature</strong> (<em>float</em>) – temperature at which the MCMC sampling will be carried out.</p></li>
<li><p><strong>args</strong> – positional arguments to instantiate the MCUsher for the
corresponding step size.</p></li>
<li><p><strong>kwargs</strong> – keyword arguments to instantiate the MCUsher for the
corresponding step size.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.kernel.ThermalKernel.compute_initial_trace">
<span class="sig-name descname"><span class="pre">compute_initial_trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.ThermalKernel.compute_initial_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute inital values for sample trace given occupancy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – Initial occupancy</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Trace</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.kernel.ThermalKernel.temperature">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">temperature</span></span><a class="headerlink" href="#moca.sampler.kernel.ThermalKernel.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the temperature of kernel.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.kernel.Trace">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.Trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">types.SimpleNamespace</span></code></p>
<p>Simple Trace class.</p>
<p>A Trace is a simple namespace to hold states and values to be recorded
during MC sampling.</p>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.kernel.Trace.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.Trace.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return copy of underlying dictionary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.kernel.Trace.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.Trace.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Return generator for (name, attribute).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.kernel.Trace.names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">names</span></span><a class="headerlink" href="#moca.sampler.kernel.Trace.names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all attribute names.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.kernel.UniformlyRandom">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UniformlyRandom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ensemble</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_type</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.UniformlyRandom" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#moca.sampler.kernel.MCKernel" title="moca.sampler.kernel.MCKernel"><code class="xref py py-class docutils literal notranslate"><span class="pre">moca.sampler.kernel.MCKernel</span></code></a></p>
<p>A Kernel that accepts all proposed steps.</p>
<p>This kernel samples the random limit distribution where all states have the
same probability (corresponding to an infinite temperature). If a
bias is added then the corresponding distribution will be biased
accordingly.</p>
<p>Initialize MCKernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ensemble</strong> (<a class="reference internal" href="moca.ensemble.html#moca.ensemble.base.Ensemble" title="moca.ensemble.base.Ensemble"><em>Ensemble</em></a>) – an Ensemble instance to obtain the features and parameters
used in computing log probabilities.</p></li>
<li><p><strong>step_type</strong> (<em>str</em>) – string specifying the MCMC step type.</p></li>
<li><p><strong>bias</strong> (<a class="reference internal" href="#moca.sampler.bias.MCBias" title="moca.sampler.bias.MCBias"><em>MCBias</em></a>) – a bias instance.</p></li>
<li><p><strong>bias_kwargs</strong> (<em>dict</em>) – dictionary of keyword arguments to pass to the bias
constructor.</p></li>
<li><p><strong>args</strong> – positional arguments to instantiate the MCUsher for the
corresponding step size.</p></li>
<li><p><strong>kwargs</strong> – keyword arguments to instantiate the MCUsher for the
corresponding step size.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.kernel.UniformlyRandom.single_step">
<span class="sig-name descname"><span class="pre">single_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.UniformlyRandom.single_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt an MCMC step.</p>
<p>Returns the next state in the chain and if the attempted step was
successful.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>StepTrace</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.kernel.UniformlyRandom.valid_bias">
<span class="sig-name descname"><span class="pre">valid_bias</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['FugacityBias']</span></em><a class="headerlink" href="#moca.sampler.kernel.UniformlyRandom.valid_bias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.kernel.UniformlyRandom.valid_mcushers">
<span class="sig-name descname"><span class="pre">valid_mcushers</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['Flip',</span> <span class="pre">'Swap']</span></em><a class="headerlink" href="#moca.sampler.kernel.UniformlyRandom.valid_mcushers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="moca.sampler.kernel.mckernel_factory">
<span class="sig-name descname"><span class="pre">mckernel_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensemble</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_type</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.kernel.mckernel_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a MCMC Kernel from string name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel_type</strong> (<em>str</em>) – string specifying kernel type to instantiate.</p></li>
<li><p><strong>ensemble</strong> (<a class="reference internal" href="moca.ensemble.html#moca.ensemble.base.Ensemble" title="moca.ensemble.base.Ensemble"><em>Ensemble</em></a>) – an Ensemble object to create the MCMC kernel from.</p></li>
<li><p><strong>step_type</strong> (<em>str</em>) – string specifying the proposal type (i.e. key for MCUsher type)</p></li>
<li><p><strong>*args</strong> – positional arguments passed to class constructor</p></li>
<li><p><strong>**kwargs</strong> – keyword arguments passed to class constructor</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instance of derived class.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#moca.sampler.kernel.MCKernel" title="moca.sampler.kernel.MCKernel">MCKernel</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-moca.sampler.mcusher">
<span id="moca-sampler-mcusher-module"></span><h2>moca.sampler.mcusher module<a class="headerlink" href="#module-moca.sampler.mcusher" title="Permalink to this headline">¶</a></h2>
<p>Implementations of MCMC Usher classes.</p>
<p>An usher is used to generate step proposals for MC Monte Carlo sampling.
For example a Flipper simply proposes a change of the identity of a species
at a site for use in a SemiGrand ensemble. A Swapper will propose a swap
between species at two sites for use in Canonical ensemble simulations.</p>
<p>More complex steps can be defined simply by deriving from the MCUsher.</p>
<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.mcusher.Flip">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Flip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sublattice_probabilities</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.mcusher.Flip" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#moca.sampler.mcusher.MCUsher" title="moca.sampler.mcusher.MCUsher"><code class="xref py py-class docutils literal notranslate"><span class="pre">moca.sampler.mcusher.MCUsher</span></code></a></p>
<p>Implementation of a simple flip step at a random site.</p>
<p>Initialize MCMCStep.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sublattices</strong> (<em>list of Sublattice</em>) – list of active Sublattices to propose steps for. Active
sublattices are those that include sites with configuration
degrees of freedom DOFs, only occupancy on active sub-lattices’ active sites
are allowed to change.</p></li>
<li><p><strong>sublattice_probabilities</strong> (<em>list of float</em>) – optional
list of probabilities to pick a site from specific active
sublattices.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.mcusher.Flip.propose_step">
<span class="sig-name descname"><span class="pre">propose_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.mcusher.Flip.propose_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Propose a single random flip step.</p>
<p>A step is given as a sequence of tuples, where each tuple is of the
form (site index, species code to set)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of tuples each with (index, code)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list(tuple)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.mcusher.MCUsher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MCUsher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sublattice_probabilities</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.mcusher.MCUsher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Abstract base class for MC usher classes.</p>
<p>Initialize MCMCStep.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sublattices</strong> (<em>list of Sublattice</em>) – list of active Sublattices to propose steps for. Active
sublattices are those that include sites with configuration
degrees of freedom DOFs, only occupancy on active sub-lattices’ active sites
are allowed to change.</p></li>
<li><p><strong>sublattice_probabilities</strong> (<em>list of float</em>) – optional
list of probabilities to pick a site from specific active
sublattices.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.mcusher.MCUsher.get_random_sublattice">
<span class="sig-name descname"><span class="pre">get_random_sublattice</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.mcusher.MCUsher.get_random_sublattice" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random sublattice based on given probabilities.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.mcusher.MCUsher.propose_step">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">propose_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.mcusher.MCUsher.propose_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Propose an MCMC step.</p>
<p>A step is given as a sequence of tuples, where each tuple is of the
form (site index, species code to set)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple of tuples each with (index, code)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list(tuple)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.mcusher.MCUsher.set_aux_state">
<span class="sig-name descname"><span class="pre">set_aux_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.mcusher.MCUsher.set_aux_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the auxiliary state from a checkpoint value.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.mcusher.MCUsher.sublattice_probabilities">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sublattice_probabilities</span></span><a class="headerlink" href="#moca.sampler.mcusher.MCUsher.sublattice_probabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the sublattice probabilities.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.mcusher.MCUsher.update_aux_state">
<span class="sig-name descname"><span class="pre">update_aux_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.mcusher.MCUsher.update_aux_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Update any auxiliary state information based on an accepted step.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.mcusher.Swap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Swap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sublattice_probabilities</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.mcusher.Swap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#moca.sampler.mcusher.MCUsher" title="moca.sampler.mcusher.MCUsher"><code class="xref py py-class docutils literal notranslate"><span class="pre">moca.sampler.mcusher.MCUsher</span></code></a></p>
<p>Implementation of a simple swap step for two random sites.</p>
<p>Initialize MCMCStep.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sublattices</strong> (<em>list of Sublattice</em>) – list of active Sublattices to propose steps for. Active
sublattices are those that include sites with configuration
degrees of freedom DOFs, only occupancy on active sub-lattices’ active sites
are allowed to change.</p></li>
<li><p><strong>sublattice_probabilities</strong> (<em>list of float</em>) – optional
list of probabilities to pick a site from specific active
sublattices.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.mcusher.Swap.propose_step">
<span class="sig-name descname"><span class="pre">propose_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">occupancy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.mcusher.Swap.propose_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Propose a single random swap step.</p>
<p>A step is given as a sequence of tuples, where each tuple is of the
form (site index, species code to set)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>occupancy</strong> (<em>ndarray</em>) – encoded occupancy string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of tuples each with (index, code)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list(tuple)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="moca.sampler.mcusher.mcusher_factory">
<span class="sig-name descname"><span class="pre">mcusher_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">usher_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sublattices</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.mcusher.mcusher_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a MC Usher from string name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>usher_type</strong> (<em>str</em>) – string specifying step to instantiate.</p></li>
<li><p><strong>sublattices</strong> (<em>list of Sublattice</em>) – list of Sublattices to propose steps for.</p></li>
<li><p><strong>*args</strong> – positional arguments passed to class constructor</p></li>
<li><p><strong>**kwargs</strong> – keyword arguments passed to class constructor</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instance of derived class.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#moca.sampler.mcusher.MCUsher" title="moca.sampler.mcusher.MCUsher">MCUsher</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-moca.sampler.sampler">
<span id="moca-sampler-sampler-module"></span><h2>moca.sampler.sampler module<a class="headerlink" href="#module-moca.sampler.sampler" title="Permalink to this headline">¶</a></h2>
<p>Implementation of base sampler classes.</p>
<p>A sampler essentially is an implementation of the MCMC algorithm that is used
by the corresponding ensemble to generate Monte Carlo samples.</p>
<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.sampler.Sampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.sampler.Sampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A sampler is used to run MCMC sampling simulations.</p>
<p>The specific MCMC algorithm is defined by the given MCKernel.
The default will use a simple Metropolis random walk kernel.</p>
<p>Initialize BaseSampler.</p>
<p>It is recommended to initialize a sampler with the from_ensemble
method, unless you need more control over the sampling kernel,
mcusher, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kernel</strong> (<a class="reference internal" href="#moca.sampler.kernel.MCKernel" title="moca.sampler.kernel.MCKernel"><em>MCKernel</em></a>) – an MCKernel instance.</p></li>
<li><p><strong>container</strong> (<a class="reference internal" href="moca.html#moca.SampleContainer" title="moca.SampleContainer"><em>SampleContainer</em></a>) – a sampler container to store samples.</p></li>
<li><p><strong>seed</strong> (<em>int</em>) – optional
seed for random number generator.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.sampler.Sampler.anneal">
<span class="sig-name descname"><span class="pre">anneal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">temperatures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mcmc_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_occupancies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.sampler.Sampler.anneal" title="Permalink to this definition">¶</a></dt>
<dd><p>Carry out a simulated annealing procedure.</p>
<p>Uses the total number of temperatures given by “steps” interpolating
between the start and end temperature according to a cooling function.
The start temperature is the temperature set for the ensemble.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>temperatures</strong> (<em>Sequence</em>) – sequence of temperatures to anneal, should be strictly
decreasing.</p></li>
<li><p><strong>mcmc_steps</strong> (<em>int</em>) – number of Monte Carlo steps to run at each temperature.</p></li>
<li><p><strong>initial_occupancies</strong> (<em>ndarray</em>) – array of occupancies. If None, the last sample will be taken.
You should only provide this the first time you call run.</p></li>
<li><p><strong>thin_by</strong> (<em>int</em>) – optional
amount to thin by for saving samples.</p></li>
<li><p><strong>progress</strong> (<em>bool</em>) – if true will show a progress bar.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.sampler.Sampler.clear_samples">
<span class="sig-name descname"><span class="pre">clear_samples</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.sampler.Sampler.clear_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear samples from sampler container.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.sampler.Sampler.efficiency">
<span class="sig-name descname"><span class="pre">efficiency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.sampler.Sampler.efficiency" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the efficiency of MCMC sampling (accepted/total).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.sampler.Sampler.from_ensemble">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_ensemble</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ensemble</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nwalkers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.sampler.Sampler.from_ensemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a sampler based on an Ensemble instance.</p>
<p>This is the easier way to set up a Sampler. This will
automatically populate and create an appropriate SampleContainer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ensemble</strong> (<a class="reference internal" href="moca.ensemble.html#moca.ensemble.base.Ensemble" title="moca.ensemble.base.Ensemble"><em>Ensemble</em></a>) – an Ensemble class to obtain sample probabilities from.</p></li>
<li><p><strong>step_type</strong> (<em>str</em>) – optional
type of step to run MCMC with. If not given the default is the
first entry in the Ensemble.valid_mcmc_steps.</p></li>
<li><p><strong>*args</strong> – positional arguments to pass to the MCKernel constructor.
More often than not you want to specify the temperature!</p></li>
<li><p><strong>kernel_type</strong> (<em>str</em>) – optional
string specifying the specific MCMC transition kernel. This
represents the underlying MC algorithm. Currently only
Metropolis is supported.</p></li>
<li><p><strong>seed</strong> (<em>int</em>) – optional
seed for the PRNG.</p></li>
<li><p><strong>nwalkers</strong> (<em>int</em>) – optional
number of walkers/chains to sampler. Default is 1. More than 1
is still experimental…</p></li>
<li><p><strong>**kwargs</strong> – keyword arguments to pass to the MCKernel constructor.
More often than not you want to specify the temperature!</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Sampler</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.sampler.Sampler.mckernel">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mckernel</span></span><a class="headerlink" href="#moca.sampler.sampler.Sampler.mckernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the underlying ensemble.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.sampler.Sampler.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_occupancies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream_chunk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">swmr_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.sampler.Sampler.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run an MCMC sampling simulation.</p>
<p>This will run and save the samples every thin_by into a
SampleContainer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nsteps</strong> (<em>int</em>) – number of total MC steps.</p></li>
<li><p><strong>initial_occupancies</strong> (<em>ndarray</em>) – array of occupancies. If None, the last sampler will be taken.
You should only provide this the first time you call run. If
you want to reset then you should call reset before to start
a fresh run.</p></li>
<li><p><strong>thin_by</strong> (<em>int</em>) – optional
the amount to thin by for saving samples.</p></li>
<li><p><strong>progress</strong> (<em>bool</em>) – optional
if true will show a progress bar.</p></li>
<li><p><strong>stream_chunk</strong> (<em>int</em>) – optional
chunk of samples to stream into a file. If &gt; 0 samples will
be flushed to backend file in stream_chucks</p></li>
<li><p><strong>stream_file</strong> (<em>str</em>) – optional
file name to use as backend. If file already exists will try
to append to datasets. If not given will create a new file.</p></li>
<li><p><strong>swmr_mode</strong> (<em>bool</em>) – optional
if true allows to read file from other processes. Single Writer
Multiple Readers.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.sampler.Sampler.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_occupancies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.sampler.Sampler.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate MCMC samples.</p>
<p>Yield a sampler state every <cite>thin_by</cite> iterations. A state is give by
a tuple of (occupancies, features, enthalpy)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nsteps</strong> (<em>int</em>) – number of iterations to run.</p></li>
<li><p><strong>initial_occupancies</strong> (<em>ndarray</em>) – array of occupancies</p></li>
<li><p><strong>thin_by</strong> (<em>int</em>) – optional
number to thin iterations by and provide samples.</p></li>
<li><p><strong>progress</strong> (<em>bool</em>) – If true will show a progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>tuple</em> – accepted, occupancies, features change, enthalpies change</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.sampler.Sampler.samples">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">samples</span></span><a class="headerlink" href="#moca.sampler.sampler.Sampler.samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the SampleContainer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.sampler.Sampler.seed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">seed</span></span><a class="headerlink" href="#moca.sampler.sampler.Sampler.seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Seed for the random number generator.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-moca.sampler">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-moca.sampler" title="Permalink to this headline">¶</a></h2>
<p>Implementation of Relevant classes for MCMC Sampling.</p>
<p>Samplers should derive from ABC Sampler classes whenever possible.</p>
<p>MCMCUshers are used to propose different kinds of MC steps for specific
simulations.</p>
<p>Samples are saved in a Sample Container.</p>
<dl class="py class">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SampleContainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">natural_parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_energy_coefs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_trace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>A SampleContainer class stores Monte Carlo simulation samples.</p>
<p>A SampleContainer holds samples and sampling information from an MCMC
sampling run. It is useful to obtain the raw data and minimal empirical
properties of the underlying distribution in order to carry out further
analysis of the MCMC sampling results.</p>
<p>When getting any value from the provided attributes, the highly repeated
args are:</p>
<blockquote>
<div><dl class="simple">
<dt>discard (int): optional</dt><dd><p>number of samples to discard to obtain the value requested.</p>
</dd>
<dt>thin_by (int): optional</dt><dd><p>use every thin_by sample to obtain the value requested.</p>
</dd>
<dt>flat (bool): optional</dt><dd><p>if more than 1 walker is used, flattening will flatten all
chains into one. Defaults to True.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.num_sites">
<span class="sig-name descname"><span class="pre">num_sites</span></span><a class="headerlink" href="#moca.sampler.SampleContainer.num_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of system (usually in number of prims in supercell, but
can be anything representative, i.e. number of sites)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.sublattices">
<span class="sig-name descname"><span class="pre">sublattices</span></span><a class="headerlink" href="#moca.sampler.SampleContainer.sublattices" title="Permalink to this definition">¶</a></dt>
<dd><p>Sublattices of the ensemble sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of Sublattice</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.natural_parameters">
<span class="sig-name descname"><span class="pre">natural_parameters</span></span><a class="headerlink" href="#moca.sampler.SampleContainer.natural_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of natural parameters used in the ensemble.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><a class="headerlink" href="#moca.sampler.SampleContainer.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of metadata from the MC run that generated the samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<p>Initialize a sample container.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sublattices</strong> (<em>list of Sublattice</em>) – Sublattices of the ensemble sampled.</p></li>
<li><p><strong>natural_parameters</strong> (<em>ndarray</em>) – array of natural parameters used in the ensemble.</p></li>
<li><p><strong>num_energy_coefs</strong> (<em>int</em>) – the number of coefficients in the natural parameters that
correspond to the energy only.</p></li>
<li><p><strong>sample_trace</strong> (<a class="reference internal" href="#moca.sampler.kernel.Trace" title="moca.sampler.kernel.Trace"><em>Trace</em></a>) – a trace object for the traced values during MC sampling</p></li>
<li><p><strong>sampling_metadata</strong> (<a class="reference internal" href="moca.ensemble.html#moca.ensemble.base.Ensemble" title="moca.ensemble.base.Ensemble"><em>Ensemble</em></a>) – sampling metadata (i.e. ensemble name, mckernel type, etc)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.allocate">
<span class="sig-name descname"><span class="pre">allocate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate more space in arrays for more samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear all samples from container.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.composition_variance">
<span class="sig-name descname"><span class="pre">composition_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.composition_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the variance in composition of all species.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.energy_variance">
<span class="sig-name descname"><span class="pre">energy_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.energy_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the variance of sampled energies.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.enthalpy_variance">
<span class="sig-name descname"><span class="pre">enthalpy_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.enthalpy_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the variance in enthalpy.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.feature_vector_variance">
<span class="sig-name descname"><span class="pre">feature_vector_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.feature_vector_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the variance of feature vector elements.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.flush_to_backend">
<span class="sig-name descname"><span class="pre">flush_to_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.flush_to_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush current samples and trace to backend file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>backend</strong> (<em>object</em>) – backend file object, currently only hdf5 supported.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a SampleContainer from dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) – dictionary representation.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Sublattice</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.from_hdf5">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">swmr_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.from_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a SampleContainer from an hdf5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – path to file</p></li>
<li><p><strong>swmr_mode</strong> (<em>bool</em>) – optional
If true allows to read file from other processes. Single Writer
Multiple Readers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SampleContainer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_backend">
<span class="sig-name descname"><span class="pre">get_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alloc_nsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">swmr_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a backend file object.</p>
<p>Currently only hdf5 files supported</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – path to backend file.</p></li>
<li><p><strong>alloc_nsamples</strong> (<em>int</em>) – optional
number of new samples to allocate. Will only extend datasets
if number given is larger than space left to write samples
into.</p></li>
<li><p><strong>swmr_mode</strong> (<em>bool</em>) – optional
If true allows to read file from other processes. Single Writer
Multiple Readers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>h5.File object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_compositions">
<span class="sig-name descname"><span class="pre">get_compositions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_compositions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the compositions for each occupancy in the chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_energies">
<span class="sig-name descname"><span class="pre">get_energies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_energies" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the energies from samples in chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_enthalpies">
<span class="sig-name descname"><span class="pre">get_enthalpies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_enthalpies" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the generalized enthalpy changes from samples in chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_feature_vectors">
<span class="sig-name descname"><span class="pre">get_feature_vectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_feature_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the feature vector changes from samples in chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_minimum_energy">
<span class="sig-name descname"><span class="pre">get_minimum_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_minimum_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the minimum energy from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_minimum_energy_occupancy">
<span class="sig-name descname"><span class="pre">get_minimum_energy_occupancy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_minimum_energy_occupancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the occupancy with minimum energy from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_minimum_enthalpy">
<span class="sig-name descname"><span class="pre">get_minimum_enthalpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_minimum_enthalpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the minimum energy from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_minimum_enthalpy_occupancy">
<span class="sig-name descname"><span class="pre">get_minimum_enthalpy_occupancy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_minimum_enthalpy_occupancy" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the occupancy with minimum energy from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_occupancies">
<span class="sig-name descname"><span class="pre">get_occupancies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_occupancies" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the occupancy chain of the samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_species_counts">
<span class="sig-name descname"><span class="pre">get_species_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_species_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the species counts for each occupancy in the chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_sublattice_compositions">
<span class="sig-name descname"><span class="pre">get_sublattice_compositions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_sublattice_compositions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the compositions of a specific sublattice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_sublattice_species_counts">
<span class="sig-name descname"><span class="pre">get_sublattice_species_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_sublattice_species_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the counts of each species in a sublattices.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>where last axis is the count for each species in the
same order as the underlying site space.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.get_trace_value">
<span class="sig-name descname"><span class="pre">get_trace_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.get_trace_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Get sampled values of a traced value given by name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.mean_composition">
<span class="sig-name descname"><span class="pre">mean_composition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.mean_composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Get mean composition for all species regardless of sublattice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.mean_energy">
<span class="sig-name descname"><span class="pre">mean_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.mean_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the mean energy from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.mean_enthalpy">
<span class="sig-name descname"><span class="pre">mean_enthalpy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.mean_enthalpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mean generalized enthalpy.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.mean_feature_vector">
<span class="sig-name descname"><span class="pre">mean_feature_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.mean_feature_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mean feature vector from samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.mean_sublattice_composition">
<span class="sig-name descname"><span class="pre">mean_sublattice_composition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.mean_sublattice_composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mean composition of a specific sublattice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.mean_trace_value">
<span class="sig-name descname"><span class="pre">mean_trace_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.mean_trace_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Get mean of a traced value given by name.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.num_samples">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_samples</span></span><a class="headerlink" href="#moca.sampler.SampleContainer.num_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the total number of samples.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.sampling_efficiency">
<span class="sig-name descname"><span class="pre">sampling_efficiency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.sampling_efficiency" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sampling efficiency for chains.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.save_sampled_trace">
<span class="sig-name descname"><span class="pre">save_sampled_trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thinned_by</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.save_sampled_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a sampled trace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trace</strong> (<a class="reference internal" href="#moca.sampler.kernel.Trace" title="moca.sampler.kernel.Trace"><em>Trace</em></a>) – Trace of sampled values</p></li>
<li><p><strong>thinned_by</strong> (<em>int</em>) – the amount that the sampling was thinned by. Used to update
the total mc iterations.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#moca.sampler.SampleContainer.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the shape of the samples in chain.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.sublattice_composition_variance">
<span class="sig-name descname"><span class="pre">sublattice_composition_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sublattice</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.sublattice_composition_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the variance in composition of a specific sublattice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.to_hdf5">
<span class="sig-name descname"><span class="pre">to_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.to_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Save SampleContainer as an HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>) – path to file save location. If file exists and dimensions
match samples will be appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.total_mc_steps">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">total_mc_steps</span></span><a class="headerlink" href="#moca.sampler.SampleContainer.total_mc_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total number of MC steps taken during sampling.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.trace_value_variance">
<span class="sig-name descname"><span class="pre">trace_value_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thin_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#moca.sampler.SampleContainer.trace_value_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get variance of a traced value given by name.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="moca.sampler.SampleContainer.traced_values">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">traced_values</span></span><a class="headerlink" href="#moca.sampler.SampleContainer.traced_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the names of traced values being sampled.</p>
</dd></dl>

</dd></dl>

</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022-2022, Ceder Group.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>