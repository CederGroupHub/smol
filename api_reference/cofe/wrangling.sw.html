
<!DOCTYPE html>


<html lang="en" data-theme="auto">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Structure Wrangler &#8212; smol 0.4.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/smol.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api_reference/cofe/wrangling.sw';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://pydata-sphinx-theme.readthedocs.io/en/latest/_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '0.4.1';
        </script>
    <script src="../../_static/require.js"></script>
    <script src="../../_static/custom.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Analysis tools" href="wrangling.tools.html" />
    <link rel="prev" title="Wrangling" href="wrangling.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="auto">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../getting_started.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../user_guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../citing.html">
                        Citing
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../developer_guide/index.html">
                        Developing
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/CederGroupHub/smol/blob/master/CHANGES.md">
                    Changes
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/CederGroupHub/smol/issues">
                    Issues
                  </a>
                </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-bs-toggle="dropdown">
      0.4.1  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/CederGroupHub/smol" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../getting_started.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../user_guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../citing.html">
                        Citing
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../developer_guide/index.html">
                        Developing
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/CederGroupHub/smol/blob/master/CHANGES.md">
                    Changes
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/CederGroupHub/smol/issues">
                    Issues
                  </a>
                </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button type="button" class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle" data-bs-toggle="dropdown">
      0.4.1  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div class="version-switcher__menu dropdown-menu list-group-flush py-0">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/CederGroupHub/smol" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html"><strong>cofe</strong> — Cluster-Orbit Function Expansion Module</a><input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="clusterspace.html">Cluster Spaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="space.html">Space</a></li>
<li class="toctree-l2"><a class="reference internal" href="clusterexpansion.html">Expansion</a></li>
<li class="toctree-l2 current active"><a class="reference internal" href="wrangling.html">Wrangling</a></li>
<li class="toctree-l2"><a class="reference internal" href="extern.ewald.html">External Terms</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../moca/index.html"><strong>moca</strong> — Monte Carlo Module</a><input checked class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../moca/ensemble.html">Ensemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../moca/processors.html">Processors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../moca/sublattice.html">Sublattice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../moca/sampler.html">Sampling</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../capp/index.html"><strong>capp</strong> — Cluster Function Applications</a><input checked class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../capp/generate.html">Generate</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../io.html">io — Input and Output</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">





<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">API Reference</a></li>
    
    
    <li class="breadcrumb-item"><i class="fa-solid fa-ellipsis"></i></li>
    
    
    <li class="breadcrumb-item"><a href="wrangling.html" class="nav-link">Wrangling</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Structure Wrangler</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="structure-wrangler">
<span id="id1"></span><h1>Structure Wrangler<a class="headerlink" href="#structure-wrangler" title="Permalink to this heading">#</a></h1>
<span class="target" id="module-smol.cofe.wrangling.wrangler"></span><p>Implementation of a StructureWrangler.</p>
<p>A StructureWrangler is used to generate and organize training data to fit a
cluster expansion using the terms defined in a ClusterSubspace. It takes care
of computing the training features (correlations) to construct a feature matrix
to be used along with a target property vector to obtain the coefficients for
a cluster expansion using some linear regression model.</p>
<p>Includes functions used to preprocess and check (wrangling) fitting data of
structures and properties.</p>
<dl class="py class">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StructureWrangler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_subspace</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">MSONable</span></code></p>
<p>Class to create fitting data to fit a cluster expansion.</p>
<p>A StructureWrangler handles (wrangles) input data structures and properties
to fit in a cluster expansion. This class holds a ClusterSubspace used to
compute correlation vectors and produce feature/design matrices used to fit
the final ClusterExpansion.</p>
<p>This class is meant to take all input training data in the form of
(structure, properties) where the properties represent the target
material property for the given structure that will be used to train
the cluster expansion, and returns the fitting data as a cluster
correlation feature matrix (orbit basis function values).</p>
<p>This class also has methods to check/prepare/filter the data. A metadata
dictionary is used to keep track of applied filters, but users can also use
it to save any other pertinent information that will be saved with using
<code class="code docutils literal notranslate"><span class="pre">StructureWrangler.as_dict</span></code> for future reference. Other preprocessing
and filtering methods are available in tools.py and select.py.</p>
<p>Initialize a StructureWrangler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cluster_subspace</strong> (<a class="reference internal" href="../autogen/cofe.html#cofe.ClusterSubspace" title="cofe.ClusterSubspace"><em>ClusterSubspace</em></a>) – a ClusterSubspace object that will be used to fit a
ClusterExpansion with the provided data.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.add_data_indices">
<span class="sig-name descname"><span class="pre">add_data_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.add_data_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.add_data_indices" title="Permalink to this definition">#</a></dt>
<dd><p>Add a set of data indices.</p>
<p>For example, use this for saving test/training splits or separating
duplicates.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.add_entry">
<span class="sig-name descname"><span class="pre">add_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supercell_matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_failed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.add_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.add_entry" title="Permalink to this definition">#</a></dt>
<dd><p>Add a structure and measured property to the StructureWrangler.</p>
<p>The energy and properties need to be extensive (i.e. not normalized per atom
or unit cell, directly from DFT).</p>
<p>An attempt to compute the correlation vector is made and if successful the
structure is successfully added. Otherwise the structure is ignored.
Usually failures are caused by the StructureMatcher in the given
ClusterSubspace failing to map structures to the primitive structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entry</strong> (<em>ComputedStructureEntry</em>) – A ComputedStructureEntry with a training structure, energy and
properties</p></li>
<li><p><strong>properties</strong> (<em>dict</em>) – Dictionary with a key describing the property and the target
value for the corresponding structure. For example if only a
single property {‘energy’: value} but can also add more than
one, i.e. {‘total_energy’: value1, ‘formation_energy’: value2}.
You are free to make up the keys for each property but make
sure you are consistent for all structures that you add.</p></li>
<li><p><strong>weights</strong> (<em>dict</em>) – the weight given to the structure when doing the fit. The key
must match at least one of the given properties.</p></li>
<li><p><strong>supercell_matrix</strong> (<em>ndarray</em>) – optional
if the corresponding structure has already been matched to the
ClusterSubspace prim structure, passing the supercell_matrix
will use that instead of trying to re-match. If using this,
the user is responsible for having the correct supercell_matrix.
Here you are the cause of your own bugs.</p></li>
<li><p><strong>site_mapping</strong> (<em>list</em>) – optional
site mapping as obtained by StructureMatcher.get_mapping
such that the elements of site_mapping represent the indices
of the matching sites to the prim structure. If you pass this
option, you are fully responsible that the mappings are correct!</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – optional
if True, will raise warning regarding  structures that fail in
StructureMatcher, and structures that have duplicate corr vectors.</p></li>
<li><p><strong>raise_failed</strong> (<em>bool</em>) – optional
if True, will raise the thrown error when adding a structure
that  fails. This can be helpful to keep a list of structures that
fail for further inspection.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.add_properties">
<span class="sig-name descname"><span class="pre">add_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_vector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.add_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.add_properties" title="Permalink to this definition">#</a></dt>
<dd><p>Add another property vector to structures already in the StructureWrangler.</p>
<p>The length of the property vector must match the number of structures
contained, and should be in the same order so that the property
corresponds to the correct structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – name of property</p></li>
<li><p><strong>property_vector</strong> (<em>ndarray</em>) – array with the property for each structure</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.add_weights">
<span class="sig-name descname"><span class="pre">add_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.add_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.add_weights" title="Permalink to this definition">#</a></dt>
<dd><p>Add weights to structures already in the StructureWrangler.</p>
<p>The length of the given weights must match the number of structures
contained, and should be in the same order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – name describing weights</p></li>
<li><p><strong>weights</strong> (<em>ndarray</em>) – array with the weight for each structure</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.append_entries">
<span class="sig-name descname"><span class="pre">append_entries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.append_entries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.append_entries" title="Permalink to this definition">#</a></dt>
<dd><p>Append a list of entries.</p>
<p>Each entry must have all necessary fields. A entry can be
obtained using the process_structure method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entries</strong> (<em>list</em><em> of </em><em>ComputedStructureEntry</em>) – list of entries with all necessary information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.as_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Get Json-serialization dict representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>MSONable dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.available_indices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_indices</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.available_indices" title="Permalink to this definition">#</a></dt>
<dd><p>Get list of available data index sets.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.available_properties">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_properties</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.available_properties" title="Permalink to this definition">#</a></dt>
<dd><p>Get list of properties that have been added.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.available_weights">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_weights</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.available_weights" title="Permalink to this definition">#</a></dt>
<dd><p>Get list of weights that have been added.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.change_subspace">
<span class="sig-name descname"><span class="pre">change_subspace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_subspace</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.change_subspace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.change_subspace" title="Permalink to this definition">#</a></dt>
<dd><p>Change the underlying ClusterSubspace.</p>
<p>Will swap out the ClusterSubspace and update features accordingly.
This is a faster operation than creating a new one. Can also be useful
to create a copy and then change the subspace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cluster_subspace</strong> – New ClusterSubspace to be used for determining features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.cluster_subspace">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cluster_subspace</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.cluster_subspace" title="Permalink to this definition">#</a></dt>
<dd><p>Get the underlying ClusterSubspace used to compute features.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.data_indices">
<span class="sig-name descname"><span class="pre">data_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.data_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.data_indices" title="Permalink to this definition">#</a></dt>
<dd><p>Get a specific data index set.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.entries">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entries</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.entries" title="Permalink to this definition">#</a></dt>
<dd><p>Get a list of the entry dictionaries.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.feature_matrix">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">feature_matrix</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.feature_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>Get feature matrix.</p>
<p>Rows are structures, and columns are correlation vectors.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.from_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Create Structure Wrangler from an MSONable dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> (<em>dict</em>) – MSON dict of StructureWrangler</p></li>
<li><p><strong>energy_key</strong> (<em>str</em>) – optional
energy property key, for legacy files</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>StructureWrangler</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.get_condition_number">
<span class="sig-name descname"><span class="pre">get_condition_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.get_condition_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_condition_number" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the condition number for the feature matrix or submatrix.</p>
<p>The condition number is a measure of how sensitive the solution to
the linear system is to perturbations in the sampled data. The larger
the condition number the more ill-conditioned the linear problem is.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rows</strong> (<em>list</em>) – indices of structures to include in feature matrix.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – indices of features (correlations) to include in feature matrix</p></li>
<li><p><strong>norm_p</strong> – (optional)
the type of norm to use when computing condition number.
See the numpy docs for np.linalg.cond for options.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>matrix condition number</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.get_constant_features">
<span class="sig-name descname"><span class="pre">get_constant_features</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.get_constant_features"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_constant_features" title="Permalink to this definition">#</a></dt>
<dd><p>Find indices of constant feature vectors (columns).</p>
<p>A constant feature vector means the corresponding correlation function
evaluates to the exact same value for all included structures, meaning
it does not really help much when fitting. Many constant feature
vectors may be a sign of insufficient sampling of configuration space.</p>
<p>Excludes the empty cluster, which is by definition constant.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>array of column indices.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.get_duplicate_corr_indices">
<span class="sig-name descname"><span class="pre">get_duplicate_corr_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cutoffs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rm_external_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.get_duplicate_corr_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_duplicate_corr_indices" title="Permalink to this definition">#</a></dt>
<dd><p>Find indices of rows with duplicate corr vectors in feature matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cutoffs</strong> (<em>dict</em>) – optional
dictionary with cluster diameter cutoffs for correlation
functions to consider in correlation vectors.</p></li>
<li><p><strong>decimals</strong> (<em>int</em>) – optional
number of decimals to round correlations in order to allow
some numerical tolerance for finding duplicates. If None,
no rounding will be done. Beware that using a ClusterSubspace
with an orthogonal site basis will likely be off by some
numerical tolerance so rounding is recommended.</p></li>
<li><p><strong>rm_external_terms</strong> (<em>bool</em>) – optional
if True, will not consider external terms and only consider
correlations proper when looking for duplicates.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list containing lists of indices of rows in feature_matrix
where duplicates occur</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.get_feature_matrix_orbit_rank">
<span class="sig-name descname"><span class="pre">get_feature_matrix_orbit_rank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orbit_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.get_feature_matrix_orbit_rank"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_feature_matrix_orbit_rank" title="Permalink to this definition">#</a></dt>
<dd><p>Get the rank of an orbit submatrix of the feature matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orbit_id</strong> (<em>int</em>) – Orbit id to obtain sub feature matrix rank of.</p></li>
<li><p><strong>rows</strong> (<em>list</em>) – optional
list of row indices corresponding to structures to include.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>rank of orbit sub feature matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.get_feature_matrix_rank">
<span class="sig-name descname"><span class="pre">get_feature_matrix_rank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.get_feature_matrix_rank"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_feature_matrix_rank" title="Permalink to this definition">#</a></dt>
<dd><p>Get the rank of the feature matrix or a submatrix of it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rows</strong> (<em>list</em>) – indices of structures to include in feature matrix.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – indices of features (correlations) to include in feature matrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the rank of the matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.get_gram_matrix">
<span class="sig-name descname"><span class="pre">get_gram_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.get_gram_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_gram_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the Gram matrix for the feature matrix or a submatrix.</p>
<p>The Gram matrix, <span class="math notranslate nohighlight">\(G = X^TX\)</span>, where each entry is
<span class="math notranslate nohighlight">\(G_{ij} = X_i \cdot X_j\)</span>. By default, G will have each column
(feature vector) normalized. This makes it possible to compare Gram
matrices for different feature matrix size or using different basis
sets. This ensures every entry satisfies <span class="math notranslate nohighlight">\(-1 \le G_{ij} \le 1\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rows</strong> (<em>list</em>) – indices of structures to include in feature matrix.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – indices of features (correlations) to include in feature matrix</p></li>
<li><p><strong>normalize</strong> – if True (default), will normalize each feature vector in the
feature matrix.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Gram matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.get_matching_corr_duplicate_indices">
<span class="sig-name descname"><span class="pre">get_matching_corr_duplicate_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure_matcher</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">matcher_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.get_matching_corr_duplicate_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_matching_corr_duplicate_indices" title="Permalink to this definition">#</a></dt>
<dd><p>Find indices of equivalent structures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimals</strong> (<em>int</em>) – optional
number of decimals to round correlations in order to allow
some numerical tolerance for finding duplicates.</p></li>
<li><p><strong>structure_matcher</strong> (<em>StructureMatcher</em>) – optional
StructureMatcher object to use for matching structures.</p></li>
<li><p><strong>**matcher_kwargs</strong> – keyword arguments to use when initializing a StructureMatcher
if not given</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of lists of equivalent structures (that match) and have
duplicate correlation vectors.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.get_property_vector">
<span class="sig-name descname"><span class="pre">get_property_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.get_property_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_property_vector" title="Permalink to this definition">#</a></dt>
<dd><p>Get the property target vector.</p>
<p>The property target vector to be used to fit the corresponding
correlation feature matrix to obtain coefficients for a cluster
expansion. It should always be properly/consistently normalized when
used for a fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – name of the property</p></li>
<li><p><strong>normalize</strong> (<em>bool</em>) – optional
if True, normalizes by prim size. If the property sought is not
already normalized, you need to normalize before fitting a CE.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.get_similarity_matrix">
<span class="sig-name descname"><span class="pre">get_similarity_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rtol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.get_similarity_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_similarity_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>Get similarity matrix of correlation vectors.</p>
<p>Generate a matrix to compare the similarity of correlation feature
vectors (columns) in the feature matrix. Matrix element a(i,j)
represents the fraction of equivalent corresponding values in feature
vectors i and j.
This construction is analogous to the Gram matrix, but instead of an
inner product, it counts the number of identical corresponding elements
in feature vectors i and j.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rows</strong> (<em>list</em>) – indices of structures to include in feature matrix.</p></li>
<li><p><strong>cols</strong> (<em>list</em>) – indices of features (correlations) to include in feature matrix</p></li>
<li><p><strong>rtol</strong> (<em>float</em>) – relative tolerance for comparing feature matrix column values</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(n x n) similarity matrix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.get_weights">
<span class="sig-name descname"><span class="pre">get_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.get_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_weights" title="Permalink to this definition">#</a></dt>
<dd><p>Get the weights specified by the given key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – name of corresponding weights</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.metadata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metadata</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.metadata" title="Permalink to this definition">#</a></dt>
<dd><p>Get dictionary to save applied filters, etc.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.num_features">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_features</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.num_features" title="Permalink to this definition">#</a></dt>
<dd><p>Get number of features for each added structure.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.num_structures">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_structures</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.num_structures" title="Permalink to this definition">#</a></dt>
<dd><p>Get number of structures added (correctly matched to prim).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.occupancy_strings">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">occupancy_strings</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.occupancy_strings" title="Permalink to this definition">#</a></dt>
<dd><p>Get occupancy strings for each structure in the StructureWrangler.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.process_entry">
<span class="sig-name descname"><span class="pre">process_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supercell_matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_failed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.process_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.process_entry" title="Permalink to this definition">#</a></dt>
<dd><p>Process a ComputedStructureEntry to be added to StructureWrangler.</p>
<p>Checks if the structure for this entry can be matched to the
ClusterSubspace prim structure to obtain its supercell matrix,
correlation, and refined structure. If so, the entry will be updated by adding
these to its data dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entry</strong> (<em>ComputedStructureEntry</em>) – A ComputedStructureEntry corresponding to a training structure and
properties</p></li>
<li><p><strong>properties</strong> (<em>dict</em>) – optional
A dictionary with a keys describing the property and the target
value for the corresponding structure. Energy and corrected energy
should already be in the ComputedStructureEntry so there is no need
to pass it here.
You are free to make up the keys for each property but make
sure you are consistent for all structures that you add.</p></li>
<li><p><strong>weights</strong> (<em>dict</em>) – optional
The weight given to the structure when doing the fit. The key
must match at least one of the given properties.</p></li>
<li><p><strong>supercell_matrix</strong> (<em>ndarray</em>) – optional
if the corresponding structure has already been matched to the
ClusterSubspace prim structure, passing the supercell_matrix
will use that instead of trying to re-match. If using this
the user is responsible to have the correct supercell_matrix.
Here you are the cause of your own bugs.</p></li>
<li><p><strong>site_mapping</strong> (<em>list</em>) – optional
site mapping as obtained by
<code class="code docutils literal notranslate"><span class="pre">StructureMatcher.get_mapping</span></code>
such that the elements of site_mapping represent the indices
of the matching sites to the prim structure. If you pass this
option, you are fully responsible that the mappings are correct!</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – if True, will raise warning for structures that fail in
StructureMatcher, and structures that have duplicate corr vectors.</p></li>
<li><p><strong>raise_failed</strong> (<em>bool</em>) – optional
if True, will raise the thrown error when adding a structure
that fails. This can be helpful to keep a list of structures that
fail for further inspection.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>entry with CE pertinent properties</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ComputedStructureEntry</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.refined_structures">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">refined_structures</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.refined_structures" title="Permalink to this definition">#</a></dt>
<dd><p>Get list of refined structures.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.remove_all_data">
<span class="sig-name descname"><span class="pre">remove_all_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.remove_all_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.remove_all_data" title="Permalink to this definition">#</a></dt>
<dd><p>Remove all data from the StructureWrangler.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.remove_entry">
<span class="sig-name descname"><span class="pre">remove_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.remove_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.remove_entry" title="Permalink to this definition">#</a></dt>
<dd><p>Remove a given structure and associated data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.remove_properties">
<span class="sig-name descname"><span class="pre">remove_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">property_keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.remove_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.remove_properties" title="Permalink to this definition">#</a></dt>
<dd><p>Remove properties with given keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*property_keys</strong> (<em>str</em>) – names of properties to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.sizes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sizes</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.sizes" title="Permalink to this definition">#</a></dt>
<dd><p>Get sizes of each structure in terms of number of prims.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.structure_site_mappings">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">structure_site_mappings</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.structure_site_mappings" title="Permalink to this definition">#</a></dt>
<dd><p>Get list of site mappings for each structure to prim.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.structures">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">structures</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.structures" title="Permalink to this definition">#</a></dt>
<dd><p>Get list of included structures.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.supercell_matrices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supercell_matrices</span></span><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.supercell_matrices" title="Permalink to this definition">#</a></dt>
<dd><p>Get list of supercell matrices relating each structure to prim.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smol.cofe.wrangling.wrangler.StructureWrangler.update_features">
<span class="sig-name descname"><span class="pre">update_features</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/smol/cofe/wrangling/wrangler.html#StructureWrangler.update_features"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#smol.cofe.wrangling.wrangler.StructureWrangler.update_features" title="Permalink to this definition">#</a></dt>
<dd><p>Update the features/feature matrix for the data held.</p>
<p>This is useful when something is changed in the ClusterSubspace after
creating the StructureWrangler, for example when adding an Ewald term
after the StructureWrangler has already been created. This will prevent
having to re-match structures and such.</p>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="wrangling.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Wrangling</p>
      </div>
    </a>
    <a class="right-next"
       href="wrangling.tools.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Analysis tools</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler"><code class="docutils literal notranslate"><span class="pre">StructureWrangler</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.add_data_indices"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.add_data_indices()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.add_entry"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.add_entry()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.add_properties"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.add_properties()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.add_weights"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.add_weights()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.append_entries"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.append_entries()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.as_dict"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.as_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.available_indices"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.available_indices</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.available_properties"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.available_properties</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.available_weights"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.available_weights</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.change_subspace"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.change_subspace()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.cluster_subspace"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.cluster_subspace</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.data_indices"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.data_indices()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.entries"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.entries</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.feature_matrix"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.feature_matrix</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.from_dict"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.from_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_condition_number"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.get_condition_number()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_constant_features"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.get_constant_features()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_duplicate_corr_indices"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.get_duplicate_corr_indices()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_feature_matrix_orbit_rank"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.get_feature_matrix_orbit_rank()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_feature_matrix_rank"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.get_feature_matrix_rank()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_gram_matrix"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.get_gram_matrix()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_matching_corr_duplicate_indices"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.get_matching_corr_duplicate_indices()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_property_vector"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.get_property_vector()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_similarity_matrix"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.get_similarity_matrix()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.get_weights"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.get_weights()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.metadata"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.metadata</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.num_features"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.num_features</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.num_structures"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.num_structures</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.occupancy_strings"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.occupancy_strings</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.process_entry"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.process_entry()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.refined_structures"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.refined_structures</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.remove_all_data"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.remove_all_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.remove_entry"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.remove_entry()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.remove_properties"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.remove_properties()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.sizes"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.sizes</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.structure_site_mappings"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.structure_site_mappings</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.structures"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.structures</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.supercell_matrices"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.supercell_matrices</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#smol.cofe.wrangling.wrangler.StructureWrangler.update_features"><code class="docutils literal notranslate"><span class="pre">StructureWrangler.update_features()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  
  <div class="tocsection editthispage">
    <a href="https://github.com/CederGroupHub/smol/edit/main/docs/src/api_reference/cofe/wrangling.sw.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2022-2023, Ceder Group.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>